# PyMDP Execution Module

This submodule handles execution of PyMDP simulations generated by the render stage.

## Overview

This module executes PyMDP simulation scripts, captures results, and provides comprehensive reporting on simulation execution across the PyMDP inference engine.

## Module Structure

```
src/execute/pymdp/
├── __init__.py                 # Module initialization
├── README.md                   # This documentation
├── AGENTS.md                   # Detailed agent scaffolding
├── pymdp_runner.py            # Main execution runner
├── executor.py                 # Executor implementation
├── pymdp_simulation.py         # Simulation runner
├── pymdp_utils.py             # Utility functions
├── pymdp_visualizer.py        # Result visualization
├── validator.py               # Result validation
└── test_*.py                  # Unit tests
```

## Core Components

### PyMDP Runner (`pymdp_runner.py`)

**Purpose**: Execute PyMDP simulation scripts

**Key Functions**:
- `run_pymdp_scripts()` - Execute all PyMDP scripts
- `execute_single_simulation()` - Run single script
- `capture_results()` - Capture execution output
- `validate_results()` - Validate simulation results

### Executor (`executor.py`)

**Purpose**: Core PyMDP execution logic

**Features**:
- Environment setup
- Resource monitoring
- Error handling
- Result collection

## Features

- Multi-script execution support
- Comprehensive error handling
- Result capture and analysis
- Performance monitoring
- Graceful degradation

## Usage

```python
from execute.pymdp import run_pymdp_scripts

results = run_pymdp_scripts(
    scripts_dir=Path("output/11_render_output"),
    output_dir=Path("output/12_execute_output")
)
```

## Output

Execution produces:
- `execution_results.json` - Execution summary
- `pymdp_results.json` - Detailed results
- `execution_logs/` - Per-script logs
- `simulation_data/` - Raw simulation outputs

## Dependencies

- `pymdp` - PyMDP package (optional, fallback: skip PyMDP execution)
- `numpy` - Numerical arrays
- `json` - Result serialization

## Error Handling

- Dependency checking
- Script validation
- Timeout handling
- Resource cleanup
- Error recovery

## Testing

Tests verify:
- Script execution correctness
- Result validity
- Error handling
- Resource cleanup

---

**Last Updated**: October 28, 2025  
**Status**: ✅ Production Ready


