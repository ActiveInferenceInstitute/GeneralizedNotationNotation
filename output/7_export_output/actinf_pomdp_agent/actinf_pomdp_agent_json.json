{
  "model_name": "Classic Active Inference POMDP Agent v1",
  "version": "1.0",
  "annotation": "This model describes a classic Active Inference agent for a discrete POMDP:\n- One observation modality (\"state_observation\") with 3 possible outcomes.\n- One hidden state factor (\"location\") with 3 possible states.\n- The hidden state is fully controllable via 3 discrete actions.\n- The agent's preferences are encoded as log-probabilities over observations.\n- The agent has an initial policy prior (habit) encoded as log-probabilities over actions.",
  "variables": [
    {
      "node_type": "Variable",
      "source_location": null,
      "metadata": {},
      "id": "bbb15eb4-1d7a-4603-b090-f72b94fd8a56",
      "name": "A",
      "var_type": "likelihood_matrix",
      "dimensions": [
        3,
        3
      ],
      "data_type": "float",
      "description": "Likelihood mapping hidden states to observations",
      "constraints": {}
    },
    {
      "node_type": "Variable",
      "source_location": null,
      "metadata": {},
      "id": "4cbafb42-b16d-40ad-9a7f-ffeca44f007b",
      "name": "B",
      "var_type": "transition_matrix",
      "dimensions": [
        3,
        3,
        3
      ],
      "data_type": "float",
      "description": "State transitions given previous state and action",
      "constraints": {}
    },
    {
      "node_type": "Variable",
      "source_location": null,
      "metadata": {},
      "id": "bd66db97-770b-4813-9d37-f161c2425828",
      "name": "C",
      "var_type": "preference_vector",
      "dimensions": [
        3
      ],
      "data_type": "float",
      "description": "Log-preferences over observations",
      "constraints": {}
    },
    {
      "node_type": "Variable",
      "source_location": null,
      "metadata": {},
      "id": "d73b660c-5bca-4bd1-90af-16f5517e0d22",
      "name": "D",
      "var_type": "prior_vector",
      "dimensions": [
        3
      ],
      "data_type": "float",
      "description": "Prior over initial hidden states",
      "constraints": {}
    },
    {
      "node_type": "Variable",
      "source_location": null,
      "metadata": {},
      "id": "e7fcdc14-c17e-4eef-a106-7ac9066befc6",
      "name": "E",
      "var_type": "policy",
      "dimensions": [
        3
      ],
      "data_type": "float",
      "description": "Initial policy prior (habit) over actions",
      "constraints": {}
    },
    {
      "node_type": "Variable",
      "source_location": null,
      "metadata": {},
      "id": "d9b15bd7-5850-48ae-85d3-8591e6e5afa2",
      "name": "s",
      "var_type": "hidden_state",
      "dimensions": [
        3,
        1
      ],
      "data_type": "float",
      "description": "Current hidden state distribution",
      "constraints": {}
    },
    {
      "node_type": "Variable",
      "source_location": null,
      "metadata": {},
      "id": "1e01d40a-8c3a-470d-a363-7e9324a4e9e8",
      "name": "s_prime",
      "var_type": "hidden_state",
      "dimensions": [
        3,
        1
      ],
      "data_type": "float",
      "description": "Next hidden state distribution",
      "constraints": {}
    },
    {
      "node_type": "Variable",
      "source_location": null,
      "metadata": {},
      "id": "aba19773-029d-4071-91c2-f7d75a66f785",
      "name": "F",
      "var_type": "hidden_state",
      "dimensions": [
        1
      ],
      "data_type": "float",
      "description": "Variational Free Energy for belief updating from observations",
      "constraints": {}
    },
    {
      "node_type": "Variable",
      "source_location": null,
      "metadata": {},
      "id": "59c722d4-7396-41bf-a068-7794d2371eb1",
      "name": "o",
      "var_type": "observation",
      "dimensions": [
        3,
        1
      ],
      "data_type": "integer",
      "description": "Current observation (integer index)",
      "constraints": {}
    },
    {
      "node_type": "Variable",
      "source_location": null,
      "metadata": {},
      "id": "b65955f7-e48f-4ee5-af97-45842154c74b",
      "name": "π",
      "var_type": "policy",
      "dimensions": [
        3
      ],
      "data_type": "float",
      "description": "Policy (distribution over actions), no planning",
      "constraints": {}
    },
    {
      "node_type": "Variable",
      "source_location": null,
      "metadata": {},
      "id": "09a3fee8-0a9a-4b14-8625-d40b2d0dd3c2",
      "name": "u",
      "var_type": "action",
      "dimensions": [
        1
      ],
      "data_type": "integer",
      "description": "Action taken",
      "constraints": {}
    },
    {
      "node_type": "Variable",
      "source_location": null,
      "metadata": {},
      "id": "6c7e59a3-cac3-45ed-8240-60e6e07dafe6",
      "name": "G",
      "var_type": "policy",
      "dimensions": [
        1
      ],
      "data_type": "float",
      "description": "Expected Free Energy (per policy)",
      "constraints": {}
    },
    {
      "node_type": "Variable",
      "source_location": null,
      "metadata": {},
      "id": "0fcd78af-5dd0-4d3e-a91d-1ff38d64a077",
      "name": "t",
      "var_type": "hidden_state",
      "dimensions": [
        1
      ],
      "data_type": "integer",
      "description": "Discrete time step",
      "constraints": {}
    }
  ],
  "connections": [
    {
      "node_type": "Connection",
      "source_location": null,
      "metadata": {},
      "id": "e1652bb7-25d1-4f7e-86a1-6b64f36507f9",
      "source_variables": [
        "D"
      ],
      "target_variables": [
        "s"
      ],
      "connection_type": "directed",
      "weight": null,
      "description": null
    },
    {
      "node_type": "Connection",
      "source_location": null,
      "metadata": {},
      "id": "bfab5f37-0b56-4962-ab70-44636ee813be",
      "source_variables": [
        "s"
      ],
      "target_variables": [
        "A"
      ],
      "connection_type": "undirected",
      "weight": null,
      "description": null
    },
    {
      "node_type": "Connection",
      "source_location": null,
      "metadata": {},
      "id": "e6fdcc70-a311-4d2f-8d52-ec5f8ac001d8",
      "source_variables": [
        "s"
      ],
      "target_variables": [
        "s_prime"
      ],
      "connection_type": "directed",
      "weight": null,
      "description": null
    },
    {
      "node_type": "Connection",
      "source_location": null,
      "metadata": {},
      "id": "764ad87d-d623-4e8d-992a-01766d2526cb",
      "source_variables": [
        "A"
      ],
      "target_variables": [
        "o"
      ],
      "connection_type": "undirected",
      "weight": null,
      "description": null
    },
    {
      "node_type": "Connection",
      "source_location": null,
      "metadata": {},
      "id": "4d708dec-9377-415a-96a3-710e285b26a6",
      "source_variables": [
        "s"
      ],
      "target_variables": [
        "B"
      ],
      "connection_type": "undirected",
      "weight": null,
      "description": null
    },
    {
      "node_type": "Connection",
      "source_location": null,
      "metadata": {},
      "id": "41a22d89-1021-4a17-9c53-e5fe69280b6b",
      "source_variables": [
        "C"
      ],
      "target_variables": [
        "G"
      ],
      "connection_type": "directed",
      "weight": null,
      "description": null
    },
    {
      "node_type": "Connection",
      "source_location": null,
      "metadata": {},
      "id": "18ec7526-4e4d-4966-87ec-a6311aa850f7",
      "source_variables": [
        "E"
      ],
      "target_variables": [
        "π"
      ],
      "connection_type": "directed",
      "weight": null,
      "description": null
    },
    {
      "node_type": "Connection",
      "source_location": null,
      "metadata": {},
      "id": "88518c65-e27a-4182-8efd-c7553a3ae2f7",
      "source_variables": [
        "G"
      ],
      "target_variables": [
        "π"
      ],
      "connection_type": "directed",
      "weight": null,
      "description": null
    },
    {
      "node_type": "Connection",
      "source_location": null,
      "metadata": {},
      "id": "77a7c363-7ac2-4008-978a-83ed07b6f69a",
      "source_variables": [
        "π"
      ],
      "target_variables": [
        "u"
      ],
      "connection_type": "directed",
      "weight": null,
      "description": null
    },
    {
      "node_type": "Connection",
      "source_location": null,
      "metadata": {},
      "id": "30e42c28-4d2f-4966-9130-4df4d0774ca9",
      "source_variables": [
        "B"
      ],
      "target_variables": [
        "u"
      ],
      "connection_type": "directed",
      "weight": null,
      "description": null
    },
    {
      "node_type": "Connection",
      "source_location": null,
      "metadata": {},
      "id": "95a94053-b00a-48a0-88a9-27f495bed842",
      "source_variables": [
        "u"
      ],
      "target_variables": [
        "s_prime"
      ],
      "connection_type": "directed",
      "weight": null,
      "description": null
    }
  ],
  "parameters": [
    {
      "node_type": "Parameter",
      "source_location": null,
      "metadata": {},
      "id": "67bd5f54-2f49-41e5-9690-f9ac72088e69",
      "name": "A",
      "value": [
        [
          0.9,
          0.05,
          0.05
        ],
        [
          0.05,
          0.9,
          0.05
        ],
        [
          0.05,
          0.05,
          0.9
        ]
      ],
      "type_hint": null,
      "description": null
    },
    {
      "node_type": "Parameter",
      "source_location": null,
      "metadata": {},
      "id": "a9b6b8bb-0d98-4c46-8471-9f6e8eee841c",
      "name": "B",
      "value": [
        [
          [
            1.0,
            0.0,
            0.0
          ],
          [
            0.0,
            1.0,
            0.0
          ],
          [
            0.0,
            0.0,
            1.0
          ]
        ],
        [
          [
            0.0,
            1.0,
            0.0
          ],
          [
            1.0,
            0.0,
            0.0
          ],
          [
            0.0,
            0.0,
            1.0
          ]
        ],
        [
          [
            0.0,
            0.0,
            1.0
          ],
          [
            0.0,
            1.0,
            0.0
          ],
          [
            1.0,
            0.0,
            0.0
          ]
        ]
      ],
      "type_hint": null,
      "description": null
    },
    {
      "node_type": "Parameter",
      "source_location": null,
      "metadata": {},
      "id": "2313113d-4429-49ef-8f69-39287709243e",
      "name": "C",
      "value": [
        [
          0.1,
          0.1,
          1.0
        ]
      ],
      "type_hint": null,
      "description": null
    },
    {
      "node_type": "Parameter",
      "source_location": null,
      "metadata": {},
      "id": "7623ff50-1175-4bb0-b1b1-e5062a2247dd",
      "name": "D",
      "value": [
        [
          0.33333,
          0.33333,
          0.33333
        ]
      ],
      "type_hint": null,
      "description": null
    },
    {
      "node_type": "Parameter",
      "source_location": null,
      "metadata": {},
      "id": "a7d5d243-14f4-41f8-8708-4ba12a660367",
      "name": "E",
      "value": [
        [
          0.33333,
          0.33333,
          0.33333
        ]
      ],
      "type_hint": null,
      "description": null
    },
    {
      "node_type": "Parameter",
      "source_location": null,
      "metadata": {},
      "id": "403017ef-d379-4cb4-aa0d-c1acf31f1fe0",
      "name": "num_actions: 3       # B actions_dim",
      "value": "3 (controlled by π)",
      "type_hint": null,
      "description": null
    }
  ],
  "equations": [],
  "time_specification": {
    "node_type": "TimeSpecification",
    "source_location": null,
    "metadata": {},
    "id": "8f9148e8-da9d-4c22-95b9-1e50020c6607",
    "time_type": "Dynamic",
    "discretization": null,
    "horizon": "Unbounded # The agent is defined for an unbounded time horizon; simulation runs may specify a finite horizon.",
    "step_size": null
  },
  "ontology_mappings": [
    {
      "node_type": "OntologyMapping",
      "source_location": null,
      "metadata": {},
      "id": "90ca7c0f-fb8e-43e0-ba57-9a01ec71ea56",
      "variable_name": "A",
      "ontology_term": "LikelihoodMatrix",
      "description": null
    },
    {
      "node_type": "OntologyMapping",
      "source_location": null,
      "metadata": {},
      "id": "7f7c6daa-f860-402f-9e14-4a11d912b723",
      "variable_name": "B",
      "ontology_term": "TransitionMatrix",
      "description": null
    },
    {
      "node_type": "OntologyMapping",
      "source_location": null,
      "metadata": {},
      "id": "37c084fd-bac1-45a0-8c7f-2d0205026152",
      "variable_name": "C",
      "ontology_term": "LogPreferenceVector",
      "description": null
    },
    {
      "node_type": "OntologyMapping",
      "source_location": null,
      "metadata": {},
      "id": "ced80e6a-6c5e-4c2d-843c-cd8183c04a50",
      "variable_name": "D",
      "ontology_term": "PriorOverHiddenStates",
      "description": null
    },
    {
      "node_type": "OntologyMapping",
      "source_location": null,
      "metadata": {},
      "id": "d7f371bc-db73-4f17-80e4-120cda43ae1c",
      "variable_name": "E",
      "ontology_term": "Habit",
      "description": null
    },
    {
      "node_type": "OntologyMapping",
      "source_location": null,
      "metadata": {},
      "id": "16b807b2-2e50-448c-b7bb-f8fdc099e5f4",
      "variable_name": "F",
      "ontology_term": "VariationalFreeEnergy",
      "description": null
    },
    {
      "node_type": "OntologyMapping",
      "source_location": null,
      "metadata": {},
      "id": "81a74435-47eb-4c2c-8340-6bb039fe747b",
      "variable_name": "G",
      "ontology_term": "ExpectedFreeEnergy",
      "description": null
    },
    {
      "node_type": "OntologyMapping",
      "source_location": null,
      "metadata": {},
      "id": "18ae7138-0c8d-4bb9-8799-ade5c6cd4d21",
      "variable_name": "s",
      "ontology_term": "HiddenState",
      "description": null
    },
    {
      "node_type": "OntologyMapping",
      "source_location": null,
      "metadata": {},
      "id": "73985812-e7b0-40b6-8bc2-066f4c1abf4f",
      "variable_name": "s_prime",
      "ontology_term": "NextHiddenState",
      "description": null
    },
    {
      "node_type": "OntologyMapping",
      "source_location": null,
      "metadata": {},
      "id": "345fb1bb-73df-42b5-8c52-cdb56ecba30e",
      "variable_name": "o",
      "ontology_term": "Observation",
      "description": null
    },
    {
      "node_type": "OntologyMapping",
      "source_location": null,
      "metadata": {},
      "id": "2862a7f8-c480-4000-af1a-d8940a6cf309",
      "variable_name": "π",
      "ontology_term": "PolicyVector # Distribution over actions",
      "description": null
    },
    {
      "node_type": "OntologyMapping",
      "source_location": null,
      "metadata": {},
      "id": "1ad24142-6bb7-482e-b642-0f82c307e8b6",
      "variable_name": "u",
      "ontology_term": "Action       # Chosen action",
      "description": null
    },
    {
      "node_type": "OntologyMapping",
      "source_location": null,
      "metadata": {},
      "id": "801f74f3-3769-4578-9975-a6caee50d01c",
      "variable_name": "t",
      "ontology_term": "Time",
      "description": null
    }
  ],
  "source_format": null,
  "created_at": "2025-09-15T08:17:33.390897",
  "modified_at": "2025-09-15T08:17:33.390898",
  "checksum": null,
  "extensions": {
    "gnn_section": "ActInfPOMDP",
    "footer": "Active Inference POMDP Agent v1 - GNN Representation. \nCurrently there is a planning horizon of 1 step (no deep planning), no precision modulation, no hierarchical nesting.",
    "signature": "Cryptographic signature goes here"
  },
  "raw_sections": {
    "GNNSection": "ActInfPOMDP",
    "GNNVersionAndFlags": "GNN v1",
    "ModelName": "Classic Active Inference POMDP Agent v1",
    "ModelAnnotation": "This model describes a classic Active Inference agent for a discrete POMDP:\n- One observation modality (\"state_observation\") with 3 possible outcomes.\n- One hidden state factor (\"location\") with 3 possible states.\n- The hidden state is fully controllable via 3 discrete actions.\n- The agent's preferences are encoded as log-probabilities over observations.\n- The agent has an initial policy prior (habit) encoded as log-probabilities over actions.",
    "StateSpaceBlock": "# Likelihood matrix: A[observation_outcomes, hidden_states]\nA[3,3,type=float]   # Likelihood mapping hidden states to observations\n\n# Transition matrix: B[states_next, states_previous, actions]\nB[3,3,3,type=float]   # State transitions given previous state and action\n\n# Preference vector: C[observation_outcomes]\nC[3,type=float]       # Log-preferences over observations\n\n# Prior vector: D[states]\nD[3,type=float]       # Prior over initial hidden states\n\n# Habit vector: E[actions]\nE[3,type=float]       # Initial policy prior (habit) over actions\n\n# Hidden State\ns[3,1,type=float]     # Current hidden state distribution\ns_prime[3,1,type=float] # Next hidden state distribution\nF[π,type=float]       # Variational Free Energy for belief updating from observations\n\n# Observation\no[3,1,type=int]     # Current observation (integer index)\n\n# Policy and Control\nπ[3,type=float]       # Policy (distribution over actions), no planning\nu[1,type=int]         # Action taken\nG[π,type=float]       # Expected Free Energy (per policy)\n\n# Time\nt[1,type=int]         # Discrete time step",
    "Connections": "D>s\ns-A\ns>s_prime\nA-o\ns-B\nC>G\nE>π\nG>π\nπ>u\nB>u\nu>s_prime",
    "InitialParameterization": "# A: 3 observations x 3 hidden states. Identity mapping (each state deterministically produces a unique observation). Rows are observations, columns are hidden states.\nA={\n  (0.9, 0.05, 0.05),\n  (0.05, 0.9, 0.05),\n  (0.05, 0.05, 0.9)\n}\n\n# B: 3 states x 3 previous states x 3 actions. Each action deterministically moves to a state. For each slice, rows are previous states, columns are next states. Each slice is a transition matrix corresponding to a different action selection.\nB={\n  ( (1.0,0.0,0.0), (0.0,1.0,0.0), (0.0,0.0,1.0) ),\n  ( (0.0,1.0,0.0), (1.0,0.0,0.0), (0.0,0.0,1.0) ),\n  ( (0.0,0.0,1.0), (0.0,1.0,0.0), (1.0,0.0,0.0) )\n}\n\n# C: 3 observations. Preference in terms of log-probabilities over observations.\nC={(0.1, 0.1, 1.0)}\n\n# D: 3 states. Uniform prior over hidden states. Rows are hidden states, columns are prior probabilities.\nD={(0.33333, 0.33333, 0.33333)}\n\n# E: 3 actions. Uniform habit used as initial policy prior.\nE={(0.33333, 0.33333, 0.33333)}",
    "Equations": "# Standard Active Inference update equations for POMDPs:\n# - State inference using Variational Free Energy with infer_states()\n# - Policy inference using Expected Free Energy = with infer_policies()\n# - Action selection from policy posterior: action = sample_action()\n# - Belief updating using Variational Free Energy with update_beliefs()",
    "Time": "Time=t\nDynamic\nDiscrete\nModelTimeHorizon=Unbounded # The agent is defined for an unbounded time horizon; simulation runs may specify a finite horizon.",
    "ActInfOntologyAnnotation": "A=LikelihoodMatrix\nB=TransitionMatrix\nC=LogPreferenceVector\nD=PriorOverHiddenStates\nE=Habit\nF=VariationalFreeEnergy\nG=ExpectedFreeEnergy\ns=HiddenState\ns_prime=NextHiddenState\no=Observation\nπ=PolicyVector # Distribution over actions\nu=Action       # Chosen action\nt=Time",
    "ModelParameters": "num_hidden_states: 3  # s[3]\nnum_obs: 3           # o[3]\nnum_actions: 3       # B actions_dim=3 (controlled by π)",
    "Footer": "Active Inference POMDP Agent v1 - GNN Representation. \nCurrently there is a planning horizon of 1 step (no deep planning), no precision modulation, no hierarchical nesting.",
    "Signature": "Cryptographic signature goes here"
  }
}