{
    "file_path": "/home/trim/Documents/GitHub/GeneralizedNotationNotation/src/gnn/examples/gnn_example_butterfly_pheromone_agent.md",
    "name": "gnn_example_butterfly_pheromone_agent",
    "metadata": {},
    "states": [],
    "parameters": {},
    "observations": [],
    "transitions": [],
    "ontology_annotations": {},
    "equations_text": "",
    "time_info": {},
    "footer_text": "",
    "signature": {},
    "raw_sections": {
        "GNNSection": "ButterflyPheromonePyMDPAgent\n\n## GNNVersionAndFlags\nGNN v1\n\n## ModelName\nButterfly Pheromone Detection PyMDP Agent v1\n\n## ModelAnnotation\nThis model represents a PyMDP agent for a butterfly navigating based on pheromone cues, wind direction, and visual information.\n- Observation modalities:\n  - \"pheromone_concentration\" (3 outcomes: Low, Medium, High)\n  - \"wind_direction\" (3 outcomes: Upwind, Still, Downwind)\n  - \"visual_cue\" (2 outcomes: No Flower, Flower)\n- Hidden state factors:\n  - \"location\" (3 states: Far, Mid, Close to pheromone source)\n  - \"mating_readiness\" (2 states: Not Ready, Ready)\n- Control:\n  - \"location\" factor is controllable with 3 actions (Fly Upwind, Fly Crosswind, Fly Downwind).\nThe parameterization is illustrative of plausible butterfly behavior.\n\n## StateSpaceBlock\n# A_matrices: A_m[observation_outcomes, state_factor0_states, state_factor1_states]\nA_m0[3,3,2,type=float]   # Likelihood for modality 0 (\"pheromone_concentration\") vs Location (f0) & Readiness (f1)\nA_m1[3,3,2,type=float]   # Likelihood for modality 1 (\"wind_direction\") vs Location (f0) & Readiness (f1)\nA_m2[2,3,2,type=float]   # Likelihood for modality 2 (\"visual_cue\") vs Location (f0) & Readiness (f1)\n\n# B_matrices: B_f[states_next, states_previous, actions]\nB_f0[3,3,3,type=float]   # Transitions for factor 0 (\"location\"), 3 actions\nB_f1[2,2,1,type=float]   # Transitions for factor 1 (\"mating_readiness\"), 1 implicit action (uncontrolled)\n\n# C_vectors: C_m[observation_outcomes]\nC_m0[3,type=float]       # Preferences for modality 0 (\"pheromone_concentration\")\nC_m1[3,type=float]       # Preferences for modality 1 (\"wind_direction\")\nC_m2[2,type=float]       # Preferences for modality 2 (\"visual_cue\")\n\n# D_vectors: D_f[states]\nD_f0[3,type=float]       # Prior for factor 0 (\"location\")\nD_f1[2,type=float]       # Prior for factor 1 (\"mating_readiness\")\n\n# Hidden States\ns_f0[3,1,type=float]     # Hidden state for factor 0 (\"location\")\ns_f1[2,1,type=float]     # Hidden state for factor 1 (\"mating_readiness\")\ns_prime_f0[3,1,type=float] # Next hidden state for factor 0\ns_prime_f1[2,1,type=float] # Next hidden state for factor 1\n\n# Observations\no_m0[3,1,type=float]     # Observation for modality 0 (\"pheromone_concentration\")\no_m1[3,1,type=float]     # Observation for modality 1 (\"wind_direction\")\no_m2[2,1,type=float]     # Observation for modality 2 (\"visual_cue\")\n\n# Policy and Control\nπ_f0[3,type=float]       # Policy (distribution over actions) for controllable factor 0 (\"location\")\nu_f0[1,type=int]         # Action taken for controllable factor 0\nG[1,type=float]          # Expected Free Energy\nt[1,type=int]            # Time step\n\n## Connections\n(D_f0,D_f1)-(s_f0,s_f1)\n(s_f0,s_f1)-(A_m0,A_m1,A_m2)\n(A_m0,A_m1,A_m2)-(o_m0,o_m1,o_m2)\n(s_f0,s_f1,u_f0)-(B_f0,B_f1) # u_f0 primarily affects B_f0; B_f1 is uncontrolled by u_f0\n(B_f0,B_f1)-(s_prime_f0,s_prime_f1)\n(C_m0,C_m1,C_m2)>G\nG>π_f0\nπ_f0-u_f0\nG=ExpectedFreeEnergy\nt=Time\n\n## InitialParameterization\n# States for s_f0 (Location): 0:Far, 1:Mid, 2:Close\n# States for s_f1 (Readiness): 0:NotReady, 1:Ready\n# Obs for o_m0 (Pheromone): 0:Low, 1:Medium, 2:High\n# Obs for o_m1 (Wind): 0:Upwind, 1:Still, 2:Downwind\n# Obs for o_m2 (Visual): 0:NoFlower, 1:Flower\n# Actions for u_f0 (Flight affecting Location): 0:FlyUpwind, 1:FlyCrosswind, 2:FlyDownwind\n\n# A_m0[obs_pheromone, loc, ready]: Pheromone likelihood\n# If Close(2) & Ready(1), expect High(2) Pheromone. If Far(0), expect Low(0) Pheromone.\nA_m0={\n  # Pheromone=Low(0)\n  ( ((0.8,0.7), (0.3,0.2), (0.1,0.05)) ), # P_ObsLow[loc][ready] = ( (P_ObsL|Far,NR), (P_ObsL|Far,R) ), ( (P_ObsL|Mid,NR), (P_ObsL|Mid,R) ), ...\n  # Pheromone=Medium(1)\n  ( ((0.15,0.2), (0.6,0.5), (0.3,0.25)) ),\n  # Pheromone=High(2)\n  ( ((0.05,0.1), (0.1,0.3), (0.6,0.7)) )\n}\n\n# A_m1[obs_wind, loc, ready]: Wind likelihood (assuming somewhat independent of internal state for simplicity)\n# General probabilities for observing Upwind, Still, Downwind.\nA_m1={\n  # Wind=Upwind(0)\n  ( ((0.4,0.4), (0.4,0.4), (0.4,0.4)) ), # P_ObsUpwind[loc][ready]\n  # Wind=Still(1)\n  ( ((0.3,0.3), (0.3,0.3), (0.3,0.3)) ), # P_ObsStill[loc][ready]\n  # Wind=Downwind(2)\n  ( ((0.3,0.3), (0.3,0.3), (0.3,0.3)) )  # P_ObsDownwind[loc][ready]\n}\n\n# A_m2[obs_visual, loc, ready]: Visual likelihood\n# If Close(2) to source (assume source often near flowers), expect Flower(1)\nA_m2={\n  # Visual=NoFlower(0)\n  ( ((0.8,0.7), (0.6,0.5), (0.2,0.1)) ), # P_ObsNoFlower[loc][ready]\n  # Visual=Flower(1)\n  ( ((0.2,0.3), (0.4,0.5), (0.8,0.9)) )  # P_ObsFlower[loc][ready]\n}\n\n# B_f0[s_next_loc, s_prev_loc, action_flight]: Location transitions\n# Action 0 (FlyUpwind): tends to move from Far->Mid, Mid->Close\n# Action 1 (FlyCrosswind): tends to stay in current region or diffuse\n# Action 2 (FlyDownwind): tends to move from Close->Mid, Mid->Far\nB_f0={\n  # s_next_loc = Far(0)\n  ( ((0.7,0.2,0.1), (0.4,0.1,0.8), (0.1,0.1,0.9)) ), # P_NextFar[prev_loc][action] = ( (P(F|F,AU),P(F|F,AC),P(F|F,AD)), (P(F|M,AU),...), (P(F|C,AU),...) )\n  # s_next_loc = Mid(1)\n  ( ((0.25,0.7,0.1), (0.5,0.8,0.15), (0.3,0.7,0.05)) ),\n  # s_next_loc = Close(2)\n  ( ((0.05,0.1,0.8), (0.1,0.1,0.05), (0.6,0.2,0.05)) )\n}\n# Simplified B_f0 (deterministic for illustration, real would be stochastic)\n# FlyUpwind (act=0): Far->Mid, Mid->Close, Close->Close\n# FlyCross (act=1): Far->Far, Mid->Mid, Close->Close\n# FlyDown  (act=2): Far->Far, Mid->Far, Close->Mid\nB_f0={\n  # s_next_loc = Far(0)\n  ( ((0.0, 1.0, 1.0), (1.0, 0.0, 1.0), (0.0, 0.0, 0.0)) ), # prev_loc=(F,M,C) for actions(FU,FC,FD)\n  # s_next_loc = Mid(1)\n  ( ((1.0, 0.0, 0.0), (0.0, 1.0, 0.0), (1.0, 0.0, 1.0)) ),\n  # s_next_loc = Close(2)\n  ( ((0.0, 0.0, 0.0), (0.0, 0.0, 0.0), (0.0, 1.0, 0.0)) )\n}\n# More plausible stochastic B_f0\nB_f0={ # B[s_next, s_prev, action]\n  # s_next_loc = Far(0)\n  ( ((0.2, 0.9, 0.9), (0.7, 0.1, 0.1), (0.1, 0.0, 0.0)) ), # Action: FlyUpwind(0), FlyCrosswind(1), FlyDownwind(2) for s_prev_loc = Far(0)\n                                                           # P(next=Far | prev=Far, action), P(next=Far | prev=Mid, action), P(next=Far | prev=Close, action)\n  # s_next_loc = Mid(1)\n  ( ((0.7, 0.1, 0.1), (0.2, 0.8, 0.8), (0.1, 0.1, 0.0)) ),\n  # s_next_loc = Close(2)\n  ( ((0.1, 0.0, 0.0), (0.1, 0.1, 0.1), (0.8, 0.9, 1.0)) )\n}\n\n\n# B_f1[s_next_ready, s_prev_ready, action_implicit=0]: Readiness transitions (slowly becomes Ready)\n# B_f1 = [[0.9, 0.0], [0.1, 1.0]] (NotReady stays NotReady w.p. 0.9, Ready stays Ready w.p. 1.0)\nB_f1={\n  ( ((0.9),(0.0)) ), # s_next=NotReady(0); (val for s_prev=NotReady), (val for s_prev=Ready)\n  ( ((0.1),(1.0)) )  # s_next=Ready(1)\n}\n\n# C_m0 (Pheromone): Prefers High(2), dislikes Low(0)\nC_m0={(-2.0, 0.0, 3.0)} # (Low, Medium, High)\n\n# C_m1 (Wind): Mild preference for Upwind(0) if seeking, otherwise neutral.\nC_m1={(0.5, 0.0, -0.5)} # (Upwind, Still, Downwind)\n\n# C_m2 (Visual): Prefers Flower(1) if Ready and pheromone is high (not directly encoded here, but influences policy)\nC_m2={(0.0, 1.0)} # (NoFlower, Flower)\n\n# D_f0 (Location): Start Far(0)\nD_f0={(1.0, 0.0, 0.0)} # (Far, Mid, Close)\n\n# D_f1 (Readiness): Start NotReady(0)\nD_f1={(1.0, 0.0)} # (NotReady, Ready)\n\n## Equations\n# Standard PyMDP agent equations:\n# qs_f0, qs_f1 = infer_states(o_m0, o_m1, o_m2)\n# q_pi_f0, G = infer_policies()\n# u_f0 = sample_action()\n\n## Time\nDynamic\nDiscreteTime=t\nModelTimeHorizon=Unbounded\n\n## ActInfOntologyAnnotation\nA_m0=LikelihoodPheromoneModalityDistribution\nA_m1=LikelihoodWindModalityDistribution\nA_m2=LikelihoodVisualModalityDistribution\nB_f0=TransitionMatrixLocationFactorDistribution\nB_f1=TransitionMatrixReadinessFactorDistribution\nC_m0=LogPreferencePheromoneModalityVector\nC_m1=LogPreferenceWindModalityVector\nC_m2=LogPreferenceVisualModalityVector\nD_f0=PriorBeliefOverLocationFactorStates\nD_f1=PriorBeliefOverReadinessFactorStates\ns_f0=HiddenStateLocationFactor\ns_f1=HiddenStateReadinessFactor\ns_prime_f0=NextHiddenStateLocationFactor\ns_prime_f1=NextHiddenStateReadinessFactor\no_m0=ObservationPheromoneModality\no_m1=ObservationWindModality\no_m2=ObservationVisualModality\nπ_f0=PolicyDistributionOverLocationActions # Policy for Location factor\nu_f0=ActionLocationFactor                 # Chosen action for Location factor\nG=ExpectedFreeEnergyScalar\nt=TimeStepInteger\n\n## ModelParameters\nnum_hidden_states_factors: [3, 2]  # s_f0[3] (Location), s_f1[2] (Readiness)\nnum_obs_modalities: [3, 3, 2]     # o_m0[3] (Pheromone), o_m1[3] (Wind), o_m2[2] (Visual)\nnum_control_factors_actions: [3, 1] # B_f0 controllable with 3 actions, B_f1 has 1 implicit (uncontrolled by agent's policy)\n\n## Footer\nButterfly Pheromone Detection PyMDP Agent v1 - GNN Representation\n\n## Signature\nNA"
    },
    "other_sections": {},
    "gnnsection": {
        "- Observation modalities": "",
        "- \"pheromone_concentration\" (3 outcomes": "Low, Medium, High)",
        "- \"wind_direction\" (3 outcomes": "Upwind, Still, Downwind)",
        "- \"visual_cue\" (2 outcomes": "No Flower, Flower)",
        "- Hidden state factors": "",
        "- \"location\" (3 states": "Far, Mid, Close to pheromone source)",
        "- \"mating_readiness\" (2 states": "Not Ready, Ready)",
        "- Control": "",
        "A_m0[3,3,2,type": "float]   # Likelihood for modality 0 (\"pheromone_concentration\") vs Location (f0) & Readiness (f1)",
        "A_m1[3,3,2,type": "float]   # Likelihood for modality 1 (\"wind_direction\") vs Location (f0) & Readiness (f1)",
        "A_m2[2,3,2,type": "float]   # Likelihood for modality 2 (\"visual_cue\") vs Location (f0) & Readiness (f1)",
        "B_f0[3,3,3,type": "float]   # Transitions for factor 0 (\"location\"), 3 actions",
        "B_f1[2,2,1,type": "float]   # Transitions for factor 1 (\"mating_readiness\"), 1 implicit action (uncontrolled)",
        "C_m0[3,type": "float]       # Preferences for modality 0 (\"pheromone_concentration\")",
        "C_m1[3,type": "float]       # Preferences for modality 1 (\"wind_direction\")",
        "C_m2[2,type": "float]       # Preferences for modality 2 (\"visual_cue\")",
        "D_f0[3,type": "float]       # Prior for factor 0 (\"location\")",
        "D_f1[2,type": "float]       # Prior for factor 1 (\"mating_readiness\")",
        "s_f0[3,1,type": "float]     # Hidden state for factor 0 (\"location\")",
        "s_f1[2,1,type": "float]     # Hidden state for factor 1 (\"mating_readiness\")",
        "s_prime_f0[3,1,type": "float] # Next hidden state for factor 0",
        "s_prime_f1[2,1,type": "float] # Next hidden state for factor 1",
        "o_m0[3,1,type": "float]     # Observation for modality 0 (\"pheromone_concentration\")",
        "o_m1[3,1,type": "float]     # Observation for modality 1 (\"wind_direction\")",
        "o_m2[2,1,type": "float]     # Observation for modality 2 (\"visual_cue\")",
        "π_f0[3,type": "float]       # Policy (distribution over actions) for controllable factor 0 (\"location\")",
        "u_f0[1,type": "int]         # Action taken for controllable factor 0",
        "G[1,type": "float]          # Expected Free Energy",
        "t[1,type": "int]            # Time step",
        "G": "ExpectedFreeEnergyScalar",
        "t": "TimeStepInteger",
        "A_m0": "LikelihoodPheromoneModalityDistribution",
        "( ((0.8,0.7), (0.3,0.2), (0.1,0.05)) ), # P_ObsLow[loc][ready]": "( (P_ObsL|Far,NR), (P_ObsL|Far,R) ), ( (P_ObsL|Mid,NR), (P_ObsL|Mid,R) ), ...",
        "A_m1": "LikelihoodWindModalityDistribution",
        "A_m2": "LikelihoodVisualModalityDistribution",
        "B_f0": "TransitionMatrixLocationFactorDistribution",
        "( ((0.7,0.2,0.1), (0.4,0.1,0.8), (0.1,0.1,0.9)) ), # P_NextFar[prev_loc][action]": "( (P(F|F,AU),P(F|F,AC),P(F|F,AD)), (P(F|M,AU),...), (P(F|C,AU),...) )",
        "( ((0.0, 1.0, 1.0), (1.0, 0.0, 1.0), (0.0, 0.0, 0.0)) ), # prev_loc": "(F,M,C) for actions(FU,FC,FD)",
        "( ((0.2, 0.9, 0.9), (0.7, 0.1, 0.1), (0.1, 0.0, 0.0)) ), # Action: FlyUpwind(0), FlyCrosswind(1), FlyDownwind(2) for s_prev_loc": "Far(0)",
        "B_f1": "TransitionMatrixReadinessFactorDistribution",
        "( ((0.9),(0.0)) ), # s_next": "NotReady(0); (val for s_prev=NotReady), (val for s_prev=Ready)",
        "( ((0.1),(1.0)) )  # s_next": "Ready(1)",
        "C_m0": "LogPreferencePheromoneModalityVector",
        "C_m1": "LogPreferenceWindModalityVector",
        "C_m2": "LogPreferenceVisualModalityVector",
        "D_f0": "PriorBeliefOverLocationFactorStates",
        "D_f1": "PriorBeliefOverReadinessFactorStates",
        "DiscreteTime": "t",
        "ModelTimeHorizon": "Unbounded",
        "s_f0": "HiddenStateLocationFactor",
        "s_f1": "HiddenStateReadinessFactor",
        "s_prime_f0": "NextHiddenStateLocationFactor",
        "s_prime_f1": "NextHiddenStateReadinessFactor",
        "o_m0": "ObservationPheromoneModality",
        "o_m1": "ObservationWindModality",
        "o_m2": "ObservationVisualModality",
        "π_f0": "PolicyDistributionOverLocationActions # Policy for Location factor",
        "u_f0": "ActionLocationFactor                 # Chosen action for Location factor",
        "num_hidden_states_factors": "[3, 2]  # s_f0[3] (Location), s_f1[2] (Readiness)",
        "num_obs_modalities": "[3, 3, 2]     # o_m0[3] (Pheromone), o_m1[3] (Wind), o_m2[2] (Visual)",
        "num_control_factors_actions": "[3, 1] # B_f0 controllable with 3 actions, B_f1 has 1 implicit (uncontrolled by agent's policy)"
    },
    "num_obs_modalities": [],
    "num_hidden_states_factors": [],
    "num_control_factors": []
}