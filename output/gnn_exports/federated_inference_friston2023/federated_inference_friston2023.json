{
    "file_path": "gnn/examples/federated_inference_friston2023.md",
    "name": "Federated Inference Multi-Agent Belief Sharing Model v1",
    "raw_sections": {
        "GNNSection": "FederatedInferenceFriston2023",
        "GNNVersionAndFlags": "GNN v1",
        "ModelName": "Federated Inference Multi-Agent Belief Sharing Model v1",
        "ModelAnnotation": "This model represents the federated inference system described in Friston et al. (2023), featuring three sentinel agents \nthat share beliefs about their environment through communication. The agents have complementary perspectives of a shared \nworld and can broadcast their posterior beliefs to minimize joint free energy across the collective.\n\nKey features:\n- Three agents with restricted fields of view (120° each, back-to-back configuration)\n- Shared generative model with conserved likelihood mappings for communication\n- Hidden state factors: allocentric location (9 positions), proximity (2 levels), pose (2 states), gaze direction (3 options)\n- Observation modalities: visual (4 types) + auditory communication (3 channels) + proprioceptive\n- Belief sharing through identity likelihood mappings from posterior beliefs to communicative expressions\n- Active inference with expected free energy minimization for epistemic foraging and communication\n\nThe model demonstrates emergence of distributed cognition, language acquisition, and collective intelligence\nthrough nested free energy minimization processes across inference, learning, and selection timescales.",
        "StateSpaceBlock": "### Hidden State Factors (B matrices as shown in diagram)\n# B{1} Location - 9 states (0-8 in circular arrangement)\ns_location[9,1,type=float]          # Allocentric position: {0,1,2,3,4,5,6,7,8} in radial layout\n\n# B{2} Proximity - 2 states  \ns_proximity[2,1,type=float]         # Distance: {close=0, near=1}\n\n# B{3} Pose - 2 states\ns_pose[2,1,type=float]              # Disposition: {foe=0, friend=1}\n\n# B{4} Gaze - 3 states per agent (each agent has own gaze factor)\ns_gaze_a1[3,1,type=float]          # Agent 1 gaze: {left=0, center=1, right=2}  \ns_gaze_a2[3,1,type=float]          # Agent 2 gaze: {left=0, center=1, right=2}\ns_gaze_a3[3,1,type=float]          # Agent 3 gaze: {left=0, center=1, right=2}\n\n### Next Hidden States (for temporal dynamics)\ns_prime_location[9,1,type=float]    # Next time step location\ns_prime_proximity[2,1,type=float]   # Next time step proximity\ns_prime_pose[2,1,type=float]        # Next time step pose\ns_prime_gaze_a1[3,1,type=float]    # Next gaze agent 1\ns_prime_gaze_a2[3,1,type=float]    # Next gaze agent 2\ns_prime_gaze_a3[3,1,type=float]    # Next gaze agent 3\n\n### Observation Likelihood Matrices (A matrices as shown in diagram)\n# A{1} Vision - Subject detection with line of sight (LOS) constraints\nA_vis_subject_a1[6,9,2,2,3,type=float]    # Subject attributes: {LOS=-4, proximity_foe=-2, proximity_friend=1, else_nothing=0, else_close_foe=2, else_far_person=-4}\n\n# A{2}, A{3}, A{4} Vision - Contrast energy detection  \nA_vis_center_a1[3,9,2,2,3,type=float]     # Central contrast: {nothing=0, near=1, close=2}\nA_vis_left_a1[3,9,2,2,3,type=float]       # Left peripheral: {nothing=0, near=1, close=2}  \nA_vis_right_a1[3,9,2,2,3,type=float]      # Right peripheral: {nothing=0, near=1, close=2}\n\n# A{5} Proprioception - Gaze direction\nA_proprioceptive_a1[3,3,type=float]       # Gaze direction: {left=0, center=1, right=2} (identity mapping)\n\n# Agent 2 - Same structure as Agent 1\nA_vis_subject_a2[6,9,2,2,3,type=float]    # Subject detection with field-of-view constraints\nA_vis_center_a2[3,9,2,2,3,type=float]     # Central contrast energy\nA_vis_left_a2[3,9,2,2,3,type=float]       # Left peripheral contrast  \nA_vis_right_a2[3,9,2,2,3,type=float]      # Right peripheral contrast\nA_proprioceptive_a2[3,3,type=float]       # Gaze proprioception\n\n# Agent 3 - Same structure as Agent 1  \nA_vis_subject_a3[6,9,2,2,3,type=float]    # Subject detection with field-of-view constraints\nA_vis_center_a3[3,9,2,2,3,type=float]     # Central contrast energy\nA_vis_left_a3[3,9,2,2,3,type=float]       # Left peripheral contrast\nA_vis_right_a3[3,9,2,2,3,type=float]      # Right peripheral contrast \nA_proprioceptive_a3[3,3,type=float]       # Gaze proprioception\n\n# A{6}, A{7}, A{8} Auditory - Communication channels (shared/conserved mappings)\nA_comm_location[9,9,type=float]      # A{6} Location communication (identity matrix)\nA_comm_proximity[2,2,type=float]    # A{7} Proximity communication (identity matrix)\nA_comm_pose[2,2,type=float]         # A{8} Pose communication (identity matrix)\n\n### Transition Matrices (B matrices as shown in diagram)\n# B{1} Location - 9 states with 3 movement patterns\nB_location[9,9,3,type=float]        # B{1}: {still=0, left=1, right=2} movement around 9 locations\n\n# B{2} Proximity - 2 states (uncontrolled)  \nB_proximity[2,2,1,type=float]       # B{2}: {close, near} transitions (environmental)\n\n# B{3} Pose - 2 states (uncontrolled)\nB_pose[2,2,1,type=float]            # B{3}: {friend, foe} transitions (environmental)\n\n# B{4} Gaze - 3 states per agent (controllable)\nB_gaze_a1[3,3,3,type=float]        # B{4a}: Agent 1 gaze {left, center, right} \nB_gaze_a2[3,3,3,type=float]        # B{4b}: Agent 2 gaze {left, center, right}\nB_gaze_a3[3,3,3,type=float]        # B{4c}: Agent 3 gaze {left, center, right}\n\n### Prior Preference Vectors\nC_vis_foveal[3,type=float]          # Preferences over foveal observations\nC_vis_contrast[3,type=float]        # Preferences over contrast observations\nC_comm_location[9,type=float]       # Preferences over location communications\nC_comm_proximity[2,type=float]      # Preferences over proximity communications\nC_comm_pose[2,type=float]           # Preferences over pose communications\nC_proprioceptive[3,type=float]      # Preferences over proprioceptive observations\n\n### Prior State Distributions\nD_location[9,type=float]            # Prior over initial locations (uniform)\nD_proximity[2,type=float]           # Prior over initial proximity (uniform)\nD_pose[2,type=float]               # Prior over initial pose (uniform)\nD_gaze_a1[3,type=float]           # Prior over initial gaze agent 1\nD_gaze_a2[3,type=float]           # Prior over initial gaze agent 2\nD_gaze_a3[3,type=float]           # Prior over initial gaze agent 3\n\n### Observations (matching A matrix structure from diagram)\n# Agent 1 Observations  \no_vis_subject_a1[6,1,type=float]    # A{1} Subject detection observation  \no_vis_center_a1[3,1,type=float]     # A{2} Central contrast observation\no_vis_left_a1[3,1,type=float]       # A{3} Left peripheral observation\no_vis_right_a1[3,1,type=float]      # A{4} Right peripheral observation\no_proprioceptive_a1[3,1,type=float] # A{5} Gaze proprioception\n\n# Agent 2 Observations\no_vis_subject_a2[6,1,type=float]    # A{1} Subject detection\no_vis_center_a2[3,1,type=float]     # A{2} Central contrast\no_vis_left_a2[3,1,type=float]       # A{3} Left peripheral \no_vis_right_a2[3,1,type=float]      # A{4} Right peripheral\no_proprioceptive_a2[3,1,type=float] # A{5} Gaze proprioception\n\n# Agent 3 Observations\no_vis_subject_a3[6,1,type=float]    # A{1} Subject detection\no_vis_center_a3[3,1,type=float]     # A{2} Central contrast\no_vis_left_a3[3,1,type=float]       # A{3} Left peripheral\no_vis_right_a3[3,1,type=float]      # A{4} Right peripheral\no_proprioceptive_a3[3,1,type=float] # A{5} Gaze proprioception\n\n# Auditory Communication Observations (A{6}, A{7}, A{8} from diagram)\no_comm_location_a1[9,1,type=float]  # A{6} Location broadcast from agent 1\no_comm_location_a2[9,1,type=float]  # A{6} Location broadcast from agent 2  \no_comm_location_a3[9,1,type=float]  # A{6} Location broadcast from agent 3\n\no_comm_proximity_a1[2,1,type=float] # A{7} Proximity broadcast from agent 1\no_comm_proximity_a2[2,1,type=float] # A{7} Proximity broadcast from agent 2\no_comm_proximity_a3[2,1,type=float] # A{7} Proximity broadcast from agent 3\n\no_comm_pose_a1[2,1,type=float]     # A{8} Pose broadcast from agent 1\no_comm_pose_a2[2,1,type=float]     # A{8} Pose broadcast from agent 2\no_comm_pose_a3[2,1,type=float]     # A{8} Pose broadcast from agent 3\n\n### Policy and Control Variables\nπ_gaze_a1[3,type=float]           # Policy distribution over gaze actions agent 1\nπ_gaze_a2[3,type=float]           # Policy distribution over gaze actions agent 2\nπ_gaze_a3[3,type=float]           # Policy distribution over gaze actions agent 3\n\nu_gaze_a1[1,type=int]             # Chosen gaze action agent 1\nu_gaze_a2[1,type=int]             # Chosen gaze action agent 2\nu_gaze_a3[1,type=int]             # Chosen gaze action agent 3\n\n### Free Energy Terms\nG_a1[1,type=float]                # Expected free energy agent 1\nG_a2[1,type=float]                # Expected free energy agent 2\nG_a3[1,type=float]                # Expected free energy agent 3\nG_joint[1,type=float]             # Joint free energy across agents\n\nF_a1[1,type=float]                # Variational free energy agent 1\nF_a2[1,type=float]                # Variational free energy agent 2\nF_a3[1,type=float]                # Variational free energy agent 3\nF_joint[1,type=float]             # Joint variational free energy\n\n### Posterior Beliefs (sufficient statistics)\nq_location[9,type=float]          # Posterior beliefs over location\nq_proximity[2,type=float]         # Posterior beliefs over proximity\nq_pose[2,type=float]              # Posterior beliefs over pose\nq_gaze_a1[3,type=float]          # Posterior beliefs over gaze agent 1\nq_gaze_a2[3,type=float]          # Posterior beliefs over gaze agent 2\nq_gaze_a3[3,type=float]          # Posterior beliefs over gaze agent 3\n\n### Time and Learning Parameters\nt[1,type=int]                     # Current time step\nτ_learning[1,type=float]          # Learning timescale parameter\nη_precision[1,type=float]         # Precision parameter for belief sharing\nγ_attention[1,type=float]         # Attentional precision parameter",
        "Connections": "### State Dependencies\n(D_location,D_proximity,D_pose)-(s_location,s_proximity,s_pose)\n(D_gaze_a1,D_gaze_a2,D_gaze_a3)-(s_gaze_a1,s_gaze_a2,s_gaze_a3)\n\n### Visual Observations for Agent 1\n(s_location,s_proximity,s_pose,s_gaze_a1)-(A_vis_foveal_a1,A_vis_center_a1,A_vis_left_a1,A_vis_right_a1)\n(A_vis_foveal_a1)-(o_vis_foveal_a1)\n(A_vis_center_a1)-(o_vis_center_a1)\n(A_vis_left_a1)-(o_vis_left_a1)\n(A_vis_right_a1)-(o_vis_right_a1)\n\n### Visual Observations for Agent 2\n(s_location,s_proximity,s_pose,s_gaze_a2)-(A_vis_foveal_a2,A_vis_center_a2,A_vis_left_a2,A_vis_right_a2)\n(A_vis_foveal_a2)-(o_vis_foveal_a2)\n(A_vis_center_a2)-(o_vis_center_a2)\n(A_vis_left_a2)-(o_vis_left_a2)\n(A_vis_right_a2)-(o_vis_right_a2)\n\n### Visual Observations for Agent 3\n(s_location,s_proximity,s_pose,s_gaze_a3)-(A_vis_foveal_a3,A_vis_center_a3,A_vis_left_a3,A_vis_right_a3)\n(A_vis_foveal_a3)-(o_vis_foveal_a3)\n(A_vis_center_a3)-(o_vis_center_a3)\n(A_vis_left_a3)-(o_vis_left_a3)\n(A_vis_right_a3)-(o_vis_right_a3)\n\n### Proprioceptive Observations\n(s_gaze_a1)-(A_proprioceptive_a1)-(o_proprioceptive_a1)\n(s_gaze_a2)-(A_proprioceptive_a2)-(o_proprioceptive_a2)\n(s_gaze_a3)-(A_proprioceptive_a3)-(o_proprioceptive_a3)\n\n### Communication Dependencies (Belief Broadcasting)\n(q_location)-(A_comm_location)-(o_comm_location_a1,o_comm_location_a2,o_comm_location_a3)\n(q_proximity)-(A_comm_proximity)-(o_comm_proximity_a1,o_comm_proximity_a2,o_comm_proximity_a3)\n(q_pose)-(A_comm_pose)-(o_comm_pose_a1,o_comm_pose_a2,o_comm_pose_a3)\n\n### Temporal Transitions\n(s_location,u_subject)-(B_location)-(s_prime_location)  ### u_subject is implicit environmental control\n(s_proximity)-(B_proximity)-(s_prime_proximity)\n(s_pose)-(B_pose)-(s_prime_pose)\n(s_gaze_a1,u_gaze_a1)-(B_gaze_a1)-(s_prime_gaze_a1)\n(s_gaze_a2,u_gaze_a2)-(B_gaze_a2)-(s_prime_gaze_a2)\n(s_gaze_a3,u_gaze_a3)-(B_gaze_a3)-(s_prime_gaze_a3)\n\n### Policy and Action Selection\n(C_vis_foveal,C_vis_contrast,C_comm_location,C_comm_proximity,C_comm_pose)>G_a1\n(C_vis_foveal,C_vis_contrast,C_comm_location,C_comm_proximity,C_comm_pose)>G_a2\n(C_vis_foveal,C_vis_contrast,C_comm_location,C_comm_proximity,C_comm_pose)>G_a3\nG_a1>π_gaze_a1\nG_a2>π_gaze_a2\nG_a3>π_gaze_a3\nπ_gaze_a1-u_gaze_a1\nπ_gaze_a2-u_gaze_a2\nπ_gaze_a3-u_gaze_a3\n\n### Joint Free Energy\n(G_a1,G_a2,G_a3)>G_joint\n(F_a1,F_a2,F_a3)>F_joint\n\n### Belief Updates\n(o_vis_foveal_a1,o_vis_center_a1,o_vis_left_a1,o_vis_right_a1,o_proprioceptive_a1,o_comm_location_a2,o_comm_location_a3,o_comm_proximity_a2,o_comm_proximity_a3,o_comm_pose_a2,o_comm_pose_a3)>(q_location,q_proximity,q_pose,q_gaze_a1)\n(o_vis_foveal_a2,o_vis_center_a2,o_vis_left_a2,o_vis_right_a2,o_proprioceptive_a2,o_comm_location_a1,o_comm_location_a3,o_comm_proximity_a1,o_comm_proximity_a3,o_comm_pose_a1,o_comm_pose_a3)>(q_location,q_proximity,q_pose,q_gaze_a2)\n(o_vis_foveal_a3,o_vis_center_a3,o_vis_left_a3,o_vis_right_a3,o_proprioceptive_a3,o_comm_location_a1,o_comm_location_a2,o_comm_proximity_a1,o_comm_proximity_a2,o_comm_pose_a1,o_comm_pose_a2)>(q_location,q_proximity,q_pose,q_gaze_a3)\n\n### Temporal progression\nt=Time",
        "InitialParameterization": "### Transition Matrix Parameterization (from diagram)\n# B{1} Location - 9 locations in circular arrangement\n# d = [0-1:1]; % still, left, or right  \n# for u = 1:3\n# B{1}(:,:,u) = eye(9,9);\nB_location={\n  still: eye(9),           # u=0: No movement\n  left: circ_shift(eye(9), -1),   # u=1: Counter-clockwise \n  right: circ_shift(eye(9), 1)    # u=2: Clockwise\n}\n\n# B{2} Proximity transitions (uncontrolled environmental dynamics)\n# B{2} = eye(2,2) + 1/4;\nB_proximity={((0.9,0.1),(0.1,0.9))}  # Close/near transitions with persistence\n\n# B{3} Pose transitions (uncontrolled environmental dynamics)  \n# B{3} = eye(2,2);\nB_pose={((0.95,0.05),(0.05,0.95))}   # Friend/foe transitions with high persistence\n\n# B{4} Gaze Transition Matrices (controllable actions)\n# for u = 1:3 % center, left, or right  \n# B{4}(:,:,u) = zeros(3,3);\n# B{4}(u,u,u) = 1;\nB_gaze_a1={\n  center: ((1,0,0),(0,0,0),(0,0,0)),   # u=1: Look center\n  left: ((0,0,0),(0,1,0),(0,0,0)),     # u=2: Look left  \n  right: ((0,0,0),(0,0,0),(0,0,1))     # u=3: Look right\n}\nB_gaze_a2=B_gaze_a1  # Same gaze control structure for all agents\nB_gaze_a3=B_gaze_a1\n\n### Visual Likelihood Matrix Specifications (from diagram)\n# A{1} Subject attributes with line of sight (LOS) constraints\n# % subject attributes\n# A{1}(1,:,1,2,s4) = 1; % if there is someone in the line of sight (LOS)\n# A{1}(1,:,1,1,s4) = -4; % LOS = -4\n# % proximity s{2} & pose s{3}\n# if s{2} = 1 && s{3} = 1 % close foe\n#   elseif s{2}(s2) = 1 && s{3}(s3) = 1  \n#   o = 2; % close foe\n# if s{2} = 1  \n#   o = 2; % close foe  \n# o = 3; % for person\n# o = 4; % nothing to see\n# else\nA_vis_subject_a1={\n  # Complex LOS mapping based on agent field of view, proximity, and pose\n  # This would require detailed field-of-view calculations per agent\n  subject_detection_mapping: \"agent_specific_visual_field_implementation\"\n}\n\n# A{2}, A{3}, A{4} Contrast energy detection\n# % contrast energy: close, near or nothing\nA_vis_contrast={\n  contrast_energy_mapping: \"location_proximity_gaze_dependent_contrast_detection\"\n}\n\n# A{6}, A{7}, A{8} Communication Likelihood Matrices (identity mappings)\nA_comm_location=eye(9)    # A{6}: Perfect identity for location communication\nA_comm_proximity=eye(2)   # A{7}: Perfect identity for proximity communication  \nA_comm_pose=eye(2)       # A{8}: Perfect identity for pose communication\n\n### Prior Preferences (epistemic drive and risk aversion)\nC_vis_foveal={(0.0, 1.0, -2.0)}     # Prefer seeing friends, avoid foes\nC_vis_contrast={(0.0, 0.5, 1.0)}    # Prefer detecting something vs nothing\nC_comm_location={(-0.1,-0.1,-0.1,-0.1,-0.1,-0.1,-0.1,-0.1,-0.1)}  # Slight cost for uncertainty\nC_comm_proximity={(0.0, -0.5)}       # Prefer knowing proximity is far (safety)\nC_comm_pose={(1.0, 0.0)}            # Prefer friend communications\nC_proprioceptive={(0.0, 0.0, 0.0)}  # No preference over gaze direction per se\n\n### Prior State Distributions (uniform uncertainty)\nD_location={(0.111, 0.111, 0.111, 0.111, 0.111, 0.111, 0.111, 0.111, 0.111)}  # Uniform over 9 locations\nD_proximity={(0.5, 0.5)}            # Uniform over near/far\nD_pose={(0.5, 0.5)}                 # Uniform over friend/foe\nD_gaze_a1={(0.33, 0.34, 0.33)}     # Slight preference for center gaze\nD_gaze_a2={(0.33, 0.34, 0.33)}\nD_gaze_a3={(0.33, 0.34, 0.33)}\n\n### Learning and Precision Parameters\nτ_learning=32.0         # Forgetting timescale (32 experiences retained)\nη_precision=4.0         # Precision of belief sharing communication\nγ_attention=2.0         # Attentional precision for epistemic foraging",
        "Equations": "### Variational Free Energy (per agent)\n# F = E_q[ln q(s) - ln p(o,s)] = D_KL[q(s)||p(s|o)] - ln p(o)\nF_a1 = sum_s[q_s * ln(q_s)] - sum_s[q_s * ln(p_s_given_o_a1)]\n\n### Expected Free Energy (policy evaluation)  \n# G = E_q[ln q(π) - ln p(o_future|π)] - risk - ambiguity\nG_a1 = risk_term_a1 + ambiguity_term_a1 - information_gain_a1\n\n### Belief Sharing Update (federated inference)\n# Modified likelihood message includes communications from other agents\n# ln p(o_i|s) + sum_j≠i[η * ln q_j(s)]  where j indexes other agents\nq_location_a1 ∝ exp[ln p(o_vis_a1|s_location) + η * (ln q_location_a2 + ln q_location_a3)]\n\n### Joint Free Energy Minimization\n# F_joint = sum_i[F_i] - η * sum_i≠j[D_KL[q_i(s)||q_j(s)]]\nF_joint = F_a1 + F_a2 + F_a3 - η_precision * belief_alignment_term\n\n### Communication Generation\n# o_comm = A_comm * q(s) + noise\no_comm_location_a1 = A_comm_location @ q_location + communication_noise\n\n### Active Learning (Dirichlet count updates)\n# a_new = a_old + learning_rate * (observation - expected_observation)\n# With forgetting: a_new = decay_factor * a_old + learning_increment\ndirichlet_update: \"accumulate_experience_with_forgetting\"\n\n### Bayesian Model Reduction (structure learning)\n# ΔF = ln B(a) - ln B(a') + (a-a')^T [ψ(a) - ψ(sum(a))]\nstructure_learning_criterion: \"sparsity_inducing_model_comparison\"",
        "Time": "Dynamic\nDiscreteTime=t\nModelTimeHorizon=Unbounded  # Continuous operation, specific episodes have finite horizon",
        "ActInfOntologyAnnotation": "### Generative Model Components\nA_vis_foveal_a1=LikelihoodMatrixVisualFovealAgent1\nA_vis_center_a1=LikelihoodMatrixVisualCentralAgent1\nA_vis_left_a1=LikelihoodMatrixVisualLeftAgent1\nA_vis_right_a1=LikelihoodMatrixVisualRightAgent1\nA_proprioceptive_a1=LikelihoodMatrixProprioceptiveAgent1\nA_comm_location=LikelihoodMatrixCommunicationLocation\nA_comm_proximity=LikelihoodMatrixCommunicationProximity\nA_comm_pose=LikelihoodMatrixCommunicationPose\n\nB_location=TransitionMatrixLocation\nB_proximity=TransitionMatrixProximity  \nB_pose=TransitionMatrixPose\nB_gaze_a1=TransitionMatrixGazeAgent1\nB_gaze_a2=TransitionMatrixGazeAgent2\nB_gaze_a3=TransitionMatrixGazeAgent3\n\nC_vis_foveal=LogPreferenceVectorVisualFoveal\nC_vis_contrast=LogPreferenceVectorVisualContrast\nC_comm_location=LogPreferenceVectorCommunicationLocation\nC_comm_proximity=LogPreferenceVectorCommunicationProximity\nC_comm_pose=LogPreferenceVectorCommunicationPose\n\nD_location=PriorOverLocationStates\nD_proximity=PriorOverProximityStates\nD_pose=PriorOverPoseStates\nD_gaze_a1=PriorOverGazeStatesAgent1\nD_gaze_a2=PriorOverGazeStatesAgent2\nD_gaze_a3=PriorOverGazeStatesAgent3\n\n### State Variables\ns_location=HiddenStateLocation\ns_proximity=HiddenStateProximity\ns_pose=HiddenStatePose\ns_gaze_a1=HiddenStateGazeAgent1\ns_gaze_a2=HiddenStateGazeAgent2  \ns_gaze_a3=HiddenStateGazeAgent3\n\n### Observations\no_vis_foveal_a1=ObservationVisualFovealAgent1\no_vis_center_a1=ObservationVisualCentralAgent1\no_vis_left_a1=ObservationVisualLeftAgent1\no_vis_right_a1=ObservationVisualRightAgent1\no_proprioceptive_a1=ObservationProprioceptiveAgent1\no_comm_location_a1=ObservationCommunicationLocationAgent1\no_comm_proximity_a1=ObservationCommunicationProximityAgent1\no_comm_pose_a1=ObservationCommunicationPoseAgent1\n\n### Policy and Control\nπ_gaze_a1=PolicyVectorGazeAgent1\nπ_gaze_a2=PolicyVectorGazeAgent2\nπ_gaze_a3=PolicyVectorGazeAgent3\nu_gaze_a1=ActionGazeAgent1\nu_gaze_a2=ActionGazeAgent2\nu_gaze_a3=ActionGazeAgent3\n\n### Free Energy Terms\nG_a1=ExpectedFreeEnergyAgent1\nG_a2=ExpectedFreeEnergyAgent2\nG_a3=ExpectedFreeEnergyAgent3\nG_joint=ExpectedFreeEnergyJoint\nF_a1=VariationalFreeEnergyAgent1\nF_a2=VariationalFreeEnergyAgent2\nF_a3=VariationalFreeEnergyAgent3\nF_joint=VariationalFreeEnergyJoint\n\n### Posterior Beliefs\nq_location=PosteriorBeliefLocation\nq_proximity=PosteriorBeliefProximity\nq_pose=PosteriorBeliefPose\nq_gaze_a1=PosteriorBeliefGazeAgent1\nq_gaze_a2=PosteriorBeliefGazeAgent2\nq_gaze_a3=PosteriorBeliefGazeAgent3\n\n### Meta-Parameters\nτ_learning=LearningTimescale\nη_precision=BeliefSharingPrecision\nγ_attention=AttentionalPrecision\nt=TimeStep",
        "ModelParameters": "### Multi-Agent Configuration\nnum_agents: 3\nagent_configuration: \"back_to_back_sentinel_array\"\ncommunication_topology: \"all_to_all_belief_broadcasting\"\n\n### State Space Dimensions\nnum_locations: 9            # Allocentric radial positions around agents\nnum_proximity_levels: 2     # {near, far}\nnum_pose_states: 2         # {foe, friend}\nnum_gaze_directions: 3     # {left, center, right} for each agent\n\n### Observation Modality Dimensions\nnum_visual_foveal_outcomes: 3      # {distant, friend_close, foe_close}\nnum_visual_contrast_outcomes: 3    # {none, near, close}\nnum_proprioceptive_outcomes: 3     # {left, center, right}\nnum_communication_outcomes: [9, 2, 2]  # [location, proximity, pose]\n\n### Control Dimensions\nnum_gaze_actions: 3        # {look_left, look_center, look_right}\ncontrollable_factors: [\"gaze_a1\", \"gaze_a2\", \"gaze_a3\"]\nuncontrollable_factors: [\"location\", \"proximity\", \"pose\"]  # Environmental dynamics\n\n### Learning Parameters\nlearning_rate: 0.1\nforgetting_timescale: 32\nbelief_sharing_precision: 4.0\nattention_precision: 2.0\nmodel_selection_threshold: 1.0  # Natural units for Bayesian model reduction\n\n### Communication Protocol\ncommunication_modalities: [\"location_broadcast\", \"proximity_broadcast\", \"pose_broadcast\"]\nlikelihood_mapping_type: \"identity_matrix\"  # Perfect communication assumption\nsensory_attenuation: true  # Agents don't hear themselves\ncommunication_synchrony: \"simultaneous_with_observation\"\n\n### Performance Metrics\nconvergence_criterion: \"joint_free_energy_minimization\"\nepistemic_drive_strength: \"expected_information_gain\"\npragmatic_drive_strength: \"expected_cost_minimization\"",
        "Footer": "Federated Inference Multi-Agent Belief Sharing Model v1 - GNN Representation\nBased on Friston, K.J., Parr, T., Heins, C., Constant, A., Friedman, D., Isomura, T., \nFields, C., Verbelen, T., Ramstead, M., Clippinger, J., & Frith, C.D. (2023).\n\"Federated inference and belief sharing.\" Neuroscience & Biobehavioral Reviews, 156, 105500.\n\nThis model demonstrates:\n- Distributed cognition through belief sharing\n- Emergence of communication protocols via active inference\n- Joint free energy minimization across multiple agents\n- Active learning and structure learning at nested timescales\n- Cultural transmission and language acquisition\n- Collective intelligence and self-evidencing",
        "Signature": "GNN_FederatedInference_v1.0_Friston2023"
    },
    "statespaceblock": [
        {
            "id": "s_location",
            "dimensions": "9,1,type=float",
            "original_id": "s_location"
        },
        {
            "id": "s_proximity",
            "dimensions": "2,1,type=float",
            "original_id": "s_proximity"
        },
        {
            "id": "s_pose",
            "dimensions": "2,1,type=float",
            "original_id": "s_pose"
        },
        {
            "id": "s_gaze_a1",
            "dimensions": "3,1,type=float",
            "original_id": "s_gaze_a1"
        },
        {
            "id": "s_gaze_a2",
            "dimensions": "3,1,type=float",
            "original_id": "s_gaze_a2"
        },
        {
            "id": "s_gaze_a3",
            "dimensions": "3,1,type=float",
            "original_id": "s_gaze_a3"
        },
        {
            "id": "s_prime_location",
            "dimensions": "9,1,type=float",
            "original_id": "s_prime_location"
        },
        {
            "id": "s_prime_proximity",
            "dimensions": "2,1,type=float",
            "original_id": "s_prime_proximity"
        },
        {
            "id": "s_prime_pose",
            "dimensions": "2,1,type=float",
            "original_id": "s_prime_pose"
        },
        {
            "id": "s_prime_gaze_a1",
            "dimensions": "3,1,type=float",
            "original_id": "s_prime_gaze_a1"
        },
        {
            "id": "s_prime_gaze_a2",
            "dimensions": "3,1,type=float",
            "original_id": "s_prime_gaze_a2"
        },
        {
            "id": "s_prime_gaze_a3",
            "dimensions": "3,1,type=float",
            "original_id": "s_prime_gaze_a3"
        },
        {
            "id": "A_vis_subject_a1",
            "dimensions": "6,9,2,2,3,type=float",
            "original_id": "A_vis_subject_a1"
        },
        {
            "id": "A_vis_center_a1",
            "dimensions": "3,9,2,2,3,type=float",
            "original_id": "A_vis_center_a1"
        },
        {
            "id": "A_vis_left_a1",
            "dimensions": "3,9,2,2,3,type=float",
            "original_id": "A_vis_left_a1"
        },
        {
            "id": "A_vis_right_a1",
            "dimensions": "3,9,2,2,3,type=float",
            "original_id": "A_vis_right_a1"
        },
        {
            "id": "A_proprioceptive_a1",
            "dimensions": "3,3,type=float",
            "original_id": "A_proprioceptive_a1"
        },
        {
            "id": "A_vis_subject_a2",
            "dimensions": "6,9,2,2,3,type=float",
            "original_id": "A_vis_subject_a2"
        },
        {
            "id": "A_vis_center_a2",
            "dimensions": "3,9,2,2,3,type=float",
            "original_id": "A_vis_center_a2"
        },
        {
            "id": "A_vis_left_a2",
            "dimensions": "3,9,2,2,3,type=float",
            "original_id": "A_vis_left_a2"
        },
        {
            "id": "A_vis_right_a2",
            "dimensions": "3,9,2,2,3,type=float",
            "original_id": "A_vis_right_a2"
        },
        {
            "id": "A_proprioceptive_a2",
            "dimensions": "3,3,type=float",
            "original_id": "A_proprioceptive_a2"
        },
        {
            "id": "A_vis_subject_a3",
            "dimensions": "6,9,2,2,3,type=float",
            "original_id": "A_vis_subject_a3"
        },
        {
            "id": "A_vis_center_a3",
            "dimensions": "3,9,2,2,3,type=float",
            "original_id": "A_vis_center_a3"
        },
        {
            "id": "A_vis_left_a3",
            "dimensions": "3,9,2,2,3,type=float",
            "original_id": "A_vis_left_a3"
        },
        {
            "id": "A_vis_right_a3",
            "dimensions": "3,9,2,2,3,type=float",
            "original_id": "A_vis_right_a3"
        },
        {
            "id": "A_proprioceptive_a3",
            "dimensions": "3,3,type=float",
            "original_id": "A_proprioceptive_a3"
        },
        {
            "id": "A_comm_location",
            "dimensions": "9,9,type=float",
            "original_id": "A_comm_location"
        },
        {
            "id": "A_comm_proximity",
            "dimensions": "2,2,type=float",
            "original_id": "A_comm_proximity"
        },
        {
            "id": "A_comm_pose",
            "dimensions": "2,2,type=float",
            "original_id": "A_comm_pose"
        },
        {
            "id": "B_location",
            "dimensions": "9,9,3,type=float",
            "original_id": "B_location"
        },
        {
            "id": "B_proximity",
            "dimensions": "2,2,1,type=float",
            "original_id": "B_proximity"
        },
        {
            "id": "B_pose",
            "dimensions": "2,2,1,type=float",
            "original_id": "B_pose"
        },
        {
            "id": "B_gaze_a1",
            "dimensions": "3,3,3,type=float",
            "original_id": "B_gaze_a1"
        },
        {
            "id": "B_gaze_a2",
            "dimensions": "3,3,3,type=float",
            "original_id": "B_gaze_a2"
        },
        {
            "id": "B_gaze_a3",
            "dimensions": "3,3,3,type=float",
            "original_id": "B_gaze_a3"
        },
        {
            "id": "C_vis_foveal",
            "dimensions": "3,type=float",
            "original_id": "C_vis_foveal"
        },
        {
            "id": "C_vis_contrast",
            "dimensions": "3,type=float",
            "original_id": "C_vis_contrast"
        },
        {
            "id": "C_comm_location",
            "dimensions": "9,type=float",
            "original_id": "C_comm_location"
        },
        {
            "id": "C_comm_proximity",
            "dimensions": "2,type=float",
            "original_id": "C_comm_proximity"
        },
        {
            "id": "C_comm_pose",
            "dimensions": "2,type=float",
            "original_id": "C_comm_pose"
        },
        {
            "id": "C_proprioceptive",
            "dimensions": "3,type=float",
            "original_id": "C_proprioceptive"
        },
        {
            "id": "D_location",
            "dimensions": "9,type=float",
            "original_id": "D_location"
        },
        {
            "id": "D_proximity",
            "dimensions": "2,type=float",
            "original_id": "D_proximity"
        },
        {
            "id": "D_pose",
            "dimensions": "2,type=float",
            "original_id": "D_pose"
        },
        {
            "id": "D_gaze_a1",
            "dimensions": "3,type=float",
            "original_id": "D_gaze_a1"
        },
        {
            "id": "D_gaze_a2",
            "dimensions": "3,type=float",
            "original_id": "D_gaze_a2"
        },
        {
            "id": "D_gaze_a3",
            "dimensions": "3,type=float",
            "original_id": "D_gaze_a3"
        },
        {
            "id": "o_vis_subject_a1",
            "dimensions": "6,1,type=float",
            "original_id": "o_vis_subject_a1"
        },
        {
            "id": "o_vis_center_a1",
            "dimensions": "3,1,type=float",
            "original_id": "o_vis_center_a1"
        },
        {
            "id": "o_vis_left_a1",
            "dimensions": "3,1,type=float",
            "original_id": "o_vis_left_a1"
        },
        {
            "id": "o_vis_right_a1",
            "dimensions": "3,1,type=float",
            "original_id": "o_vis_right_a1"
        },
        {
            "id": "o_proprioceptive_a1",
            "dimensions": "3,1,type=float",
            "original_id": "o_proprioceptive_a1"
        },
        {
            "id": "o_vis_subject_a2",
            "dimensions": "6,1,type=float",
            "original_id": "o_vis_subject_a2"
        },
        {
            "id": "o_vis_center_a2",
            "dimensions": "3,1,type=float",
            "original_id": "o_vis_center_a2"
        },
        {
            "id": "o_vis_left_a2",
            "dimensions": "3,1,type=float",
            "original_id": "o_vis_left_a2"
        },
        {
            "id": "o_vis_right_a2",
            "dimensions": "3,1,type=float",
            "original_id": "o_vis_right_a2"
        },
        {
            "id": "o_proprioceptive_a2",
            "dimensions": "3,1,type=float",
            "original_id": "o_proprioceptive_a2"
        },
        {
            "id": "o_vis_subject_a3",
            "dimensions": "6,1,type=float",
            "original_id": "o_vis_subject_a3"
        },
        {
            "id": "o_vis_center_a3",
            "dimensions": "3,1,type=float",
            "original_id": "o_vis_center_a3"
        },
        {
            "id": "o_vis_left_a3",
            "dimensions": "3,1,type=float",
            "original_id": "o_vis_left_a3"
        },
        {
            "id": "o_vis_right_a3",
            "dimensions": "3,1,type=float",
            "original_id": "o_vis_right_a3"
        },
        {
            "id": "o_proprioceptive_a3",
            "dimensions": "3,1,type=float",
            "original_id": "o_proprioceptive_a3"
        },
        {
            "id": "o_comm_location_a1",
            "dimensions": "9,1,type=float",
            "original_id": "o_comm_location_a1"
        },
        {
            "id": "o_comm_location_a2",
            "dimensions": "9,1,type=float",
            "original_id": "o_comm_location_a2"
        },
        {
            "id": "o_comm_location_a3",
            "dimensions": "9,1,type=float",
            "original_id": "o_comm_location_a3"
        },
        {
            "id": "o_comm_proximity_a1",
            "dimensions": "2,1,type=float",
            "original_id": "o_comm_proximity_a1"
        },
        {
            "id": "o_comm_proximity_a2",
            "dimensions": "2,1,type=float",
            "original_id": "o_comm_proximity_a2"
        },
        {
            "id": "o_comm_proximity_a3",
            "dimensions": "2,1,type=float",
            "original_id": "o_comm_proximity_a3"
        },
        {
            "id": "o_comm_pose_a1",
            "dimensions": "2,1,type=float",
            "original_id": "o_comm_pose_a1"
        },
        {
            "id": "o_comm_pose_a2",
            "dimensions": "2,1,type=float",
            "original_id": "o_comm_pose_a2"
        },
        {
            "id": "o_comm_pose_a3",
            "dimensions": "2,1,type=float",
            "original_id": "o_comm_pose_a3"
        },
        {
            "id": "u_gaze_a1",
            "dimensions": "1,type=int",
            "original_id": "u_gaze_a1"
        },
        {
            "id": "u_gaze_a2",
            "dimensions": "1,type=int",
            "original_id": "u_gaze_a2"
        },
        {
            "id": "u_gaze_a3",
            "dimensions": "1,type=int",
            "original_id": "u_gaze_a3"
        },
        {
            "id": "G_a1",
            "dimensions": "1,type=float",
            "original_id": "G_a1"
        },
        {
            "id": "G_a2",
            "dimensions": "1,type=float",
            "original_id": "G_a2"
        },
        {
            "id": "G_a3",
            "dimensions": "1,type=float",
            "original_id": "G_a3"
        },
        {
            "id": "G_joint",
            "dimensions": "1,type=float",
            "original_id": "G_joint"
        },
        {
            "id": "F_a1",
            "dimensions": "1,type=float",
            "original_id": "F_a1"
        },
        {
            "id": "F_a2",
            "dimensions": "1,type=float",
            "original_id": "F_a2"
        },
        {
            "id": "F_a3",
            "dimensions": "1,type=float",
            "original_id": "F_a3"
        },
        {
            "id": "F_joint",
            "dimensions": "1,type=float",
            "original_id": "F_joint"
        },
        {
            "id": "q_location",
            "dimensions": "9,type=float",
            "original_id": "q_location"
        },
        {
            "id": "q_proximity",
            "dimensions": "2,type=float",
            "original_id": "q_proximity"
        },
        {
            "id": "q_pose",
            "dimensions": "2,type=float",
            "original_id": "q_pose"
        },
        {
            "id": "q_gaze_a1",
            "dimensions": "3,type=float",
            "original_id": "q_gaze_a1"
        },
        {
            "id": "q_gaze_a2",
            "dimensions": "3,type=float",
            "original_id": "q_gaze_a2"
        },
        {
            "id": "q_gaze_a3",
            "dimensions": "3,type=float",
            "original_id": "q_gaze_a3"
        },
        {
            "id": "t",
            "dimensions": "1,type=int",
            "original_id": "t"
        }
    ],
    "connections": [
        {
            "sources": [
                "D_location",
                "D_proximity",
                "D_pose"
            ],
            "operator": "-",
            "targets": [
                "s_location",
                "s_proximity",
                "s_pose"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "D_gaze_a1",
                "D_gaze_a2",
                "D_gaze_a3"
            ],
            "operator": "-",
            "targets": [
                "s_gaze_a1",
                "s_gaze_a2",
                "s_gaze_a3"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "s_location",
                "s_proximity",
                "s_pose",
                "s_gaze_a1"
            ],
            "operator": "-",
            "targets": [
                "A_vis_foveal_a1",
                "A_vis_center_a1",
                "A_vis_left_a1",
                "A_vis_right_a1"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "A_vis_foveal_a1"
            ],
            "operator": "-",
            "targets": [
                "o_vis_foveal_a1"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "A_vis_center_a1"
            ],
            "operator": "-",
            "targets": [
                "o_vis_center_a1"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "A_vis_left_a1"
            ],
            "operator": "-",
            "targets": [
                "o_vis_left_a1"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "A_vis_right_a1"
            ],
            "operator": "-",
            "targets": [
                "o_vis_right_a1"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "s_location",
                "s_proximity",
                "s_pose",
                "s_gaze_a2"
            ],
            "operator": "-",
            "targets": [
                "A_vis_foveal_a2",
                "A_vis_center_a2",
                "A_vis_left_a2",
                "A_vis_right_a2"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "A_vis_foveal_a2"
            ],
            "operator": "-",
            "targets": [
                "o_vis_foveal_a2"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "A_vis_center_a2"
            ],
            "operator": "-",
            "targets": [
                "o_vis_center_a2"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "A_vis_left_a2"
            ],
            "operator": "-",
            "targets": [
                "o_vis_left_a2"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "A_vis_right_a2"
            ],
            "operator": "-",
            "targets": [
                "o_vis_right_a2"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "s_location",
                "s_proximity",
                "s_pose",
                "s_gaze_a3"
            ],
            "operator": "-",
            "targets": [
                "A_vis_foveal_a3",
                "A_vis_center_a3",
                "A_vis_left_a3",
                "A_vis_right_a3"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "A_vis_foveal_a3"
            ],
            "operator": "-",
            "targets": [
                "o_vis_foveal_a3"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "A_vis_center_a3"
            ],
            "operator": "-",
            "targets": [
                "o_vis_center_a3"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "A_vis_left_a3"
            ],
            "operator": "-",
            "targets": [
                "o_vis_left_a3"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "A_vis_right_a3"
            ],
            "operator": "-",
            "targets": [
                "o_vis_right_a3"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "s_gaze_a1"
            ],
            "operator": "-",
            "targets": [
                "A_proprioceptive_a1)-(o_proprioceptive_a1"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "s_gaze_a2"
            ],
            "operator": "-",
            "targets": [
                "A_proprioceptive_a2)-(o_proprioceptive_a2"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "s_gaze_a3"
            ],
            "operator": "-",
            "targets": [
                "A_proprioceptive_a3)-(o_proprioceptive_a3"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "q_location"
            ],
            "operator": "-",
            "targets": [
                "A_comm_location)-(o_comm_location_a1",
                "o_comm_location_a2",
                "o_comm_location_a3"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "q_proximity"
            ],
            "operator": "-",
            "targets": [
                "A_comm_proximity)-(o_comm_proximity_a1",
                "o_comm_proximity_a2",
                "o_comm_proximity_a3"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "q_pose"
            ],
            "operator": "-",
            "targets": [
                "A_comm_pose)-(o_comm_pose_a1",
                "o_comm_pose_a2",
                "o_comm_pose_a3"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "s_location",
                "u_subject"
            ],
            "operator": "-",
            "targets": [
                "B_location)-(s_prime_location"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "s_proximity"
            ],
            "operator": "-",
            "targets": [
                "B_proximity)-(s_prime_proximity"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "s_pose"
            ],
            "operator": "-",
            "targets": [
                "B_pose)-(s_prime_pose"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "s_gaze_a1",
                "u_gaze_a1"
            ],
            "operator": "-",
            "targets": [
                "B_gaze_a1)-(s_prime_gaze_a1"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "s_gaze_a2",
                "u_gaze_a2"
            ],
            "operator": "-",
            "targets": [
                "B_gaze_a2)-(s_prime_gaze_a2"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "s_gaze_a3",
                "u_gaze_a3"
            ],
            "operator": "-",
            "targets": [
                "B_gaze_a3)-(s_prime_gaze_a3"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "C_vis_foveal",
                "C_vis_contrast",
                "C_comm_location",
                "C_comm_proximity",
                "C_comm_pose"
            ],
            "operator": ">",
            "targets": [
                "G_a1"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "C_vis_foveal",
                "C_vis_contrast",
                "C_comm_location",
                "C_comm_proximity",
                "C_comm_pose"
            ],
            "operator": ">",
            "targets": [
                "G_a2"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "C_vis_foveal",
                "C_vis_contrast",
                "C_comm_location",
                "C_comm_proximity",
                "C_comm_pose"
            ],
            "operator": ">",
            "targets": [
                "G_a3"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "G_a1"
            ],
            "operator": ">",
            "targets": [
                "π_gaze_a1"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "G_a2"
            ],
            "operator": ">",
            "targets": [
                "π_gaze_a2"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "G_a3"
            ],
            "operator": ">",
            "targets": [
                "π_gaze_a3"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "π_gaze_a1"
            ],
            "operator": "-",
            "targets": [
                "u_gaze_a1"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "π_gaze_a2"
            ],
            "operator": "-",
            "targets": [
                "u_gaze_a2"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "π_gaze_a3"
            ],
            "operator": "-",
            "targets": [
                "u_gaze_a3"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "G_a1",
                "G_a2",
                "G_a3"
            ],
            "operator": ">",
            "targets": [
                "G_joint"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "F_a1",
                "F_a2",
                "F_a3"
            ],
            "operator": ">",
            "targets": [
                "F_joint"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "o_vis_foveal_a1",
                "o_vis_center_a1",
                "o_vis_left_a1",
                "o_vis_right_a1",
                "o_proprioceptive_a1",
                "o_comm_location_a2",
                "o_comm_location_a3",
                "o_comm_proximity_a2",
                "o_comm_proximity_a3",
                "o_comm_pose_a2",
                "o_comm_pose_a3"
            ],
            "operator": ">",
            "targets": [
                "q_location",
                "q_proximity",
                "q_pose",
                "q_gaze_a1"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "o_vis_foveal_a2",
                "o_vis_center_a2",
                "o_vis_left_a2",
                "o_vis_right_a2",
                "o_proprioceptive_a2",
                "o_comm_location_a1",
                "o_comm_location_a3",
                "o_comm_proximity_a1",
                "o_comm_proximity_a3",
                "o_comm_pose_a1",
                "o_comm_pose_a3"
            ],
            "operator": ">",
            "targets": [
                "q_location",
                "q_proximity",
                "q_pose",
                "q_gaze_a2"
            ],
            "attributes": {}
        },
        {
            "sources": [
                "o_vis_foveal_a3",
                "o_vis_center_a3",
                "o_vis_left_a3",
                "o_vis_right_a3",
                "o_proprioceptive_a3",
                "o_comm_location_a1",
                "o_comm_location_a2",
                "o_comm_proximity_a1",
                "o_comm_proximity_a2",
                "o_comm_pose_a1",
                "o_comm_pose_a2"
            ],
            "operator": ">",
            "targets": [
                "q_location",
                "q_proximity",
                "q_pose",
                "q_gaze_a3"
            ],
            "attributes": {}
        }
    ],
    "initialparameterization": {
        "B_location": "{\n  still: eye(9),           # u=0: No movement\n  left: circ_shift(eye(9), -1),   # u=1: Counter-clockwise \n  right: circ_shift(eye(9), 1)    # u=2: Clockwise\n}\n\n# B{2} Proximity transitions (uncontrolled environmental dynamics)\n# B{2} = eye(2,2) + 1/4;",
        "B_proximity": [
            [
                [
                    0.9,
                    0.1
                ],
                [
                    0.1,
                    0.9
                ]
            ]
        ],
        "B_pose": [
            [
                [
                    0.95,
                    0.05
                ],
                [
                    0.05,
                    0.95
                ]
            ]
        ],
        "B_gaze_a1": "{\n  center: ((1,0,0),(0,0,0),(0,0,0)),   # u=1: Look center\n  left: ((0,0,0),(0,1,0),(0,0,0)),     # u=2: Look left  \n  right: ((0,0,0),(0,0,0),(0,0,1))     # u=3: Look right\n}",
        "B_gaze_a2": "B_gaze_a1  # Same gaze control structure for all agents",
        "B_gaze_a3": "B_gaze_a1\n\n### Visual Likelihood Matrix Specifications (from diagram)\n# A{1} Subject attributes with line of sight (LOS) constraints\n# % subject attributes\n# A{1}(1,:,1,2,s4) = 1; % if there is someone in the line of sight (LOS)\n# A{1}(1,:,1,1,s4) = -4; % LOS = -4\n# % proximity s{2} & pose s{3}\n# if s{2} = 1 && s{3} = 1 % close foe\n#   elseif s{2}(s2) = 1 && s{3}(s3) = 1  \n#   o = 2; % close foe\n# if s{2} = 1  \n#   o = 2; % close foe  \n# o = 3; % for person\n# o = 4; % nothing to see\n# else",
        "A_vis_subject_a1": "{\n  # Complex LOS mapping based on agent field of view, proximity, and pose\n  # This would require detailed field-of-view calculations per agent\n  subject_detection_mapping: \"agent_specific_visual_field_implementation\"\n}\n\n# A{2}, A{3}, A{4} Contrast energy detection\n# % contrast energy: close, near or nothing",
        "A_vis_contrast": "{\n  contrast_energy_mapping: \"location_proximity_gaze_dependent_contrast_detection\"\n}\n\n# A{6}, A{7}, A{8} Communication Likelihood Matrices (identity mappings)",
        "A_comm_location": "eye(9)    # A{6}: Perfect identity for location communication",
        "A_comm_proximity": "eye(2)   # A{7}: Perfect identity for proximity communication",
        "A_comm_pose": "eye(2)       # A{8}: Perfect identity for pose communication\n\n### Prior Preferences (epistemic drive and risk aversion)",
        "C_vis_foveal": [
            0.0,
            1.0,
            -2.0
        ],
        "C_vis_contrast": [
            0.0,
            0.5,
            1.0
        ],
        "C_comm_location": [
            -0.1,
            -0.1,
            -0.1,
            -0.1,
            -0.1,
            -0.1,
            -0.1,
            -0.1,
            -0.1
        ],
        "C_comm_proximity": [
            0.0,
            -0.5
        ],
        "C_comm_pose": [
            1.0,
            0.0
        ],
        "C_proprioceptive": [
            0.0,
            0.0,
            0.0
        ],
        "D_location": [
            0.111,
            0.111,
            0.111,
            0.111,
            0.111,
            0.111,
            0.111,
            0.111,
            0.111
        ],
        "D_proximity": [
            0.5,
            0.5
        ],
        "D_pose": [
            0.5,
            0.5
        ],
        "D_gaze_a1": [
            0.33,
            0.34,
            0.33
        ],
        "D_gaze_a2": [
            0.33,
            0.34,
            0.33
        ],
        "D_gaze_a3": "{(0.33, 0.34, 0.33)}\n\n### Learning and Precision Parameters\nτ_learning=32.0         # Forgetting timescale (32 experiences retained)\nη_precision=4.0         # Precision of belief sharing communication\nγ_attention=2.0         # Attentional precision for epistemic foraging"
    }
}