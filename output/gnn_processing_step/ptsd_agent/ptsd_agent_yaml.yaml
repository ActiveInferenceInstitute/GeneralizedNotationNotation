annotation: 'This hierarchical Active Inference agent consists of two levels:


  - **Lower Level Agent**: Processes sensorimotor information including trustworthiness,
  card states, affect, choices, and game stages

  - **Higher Level Agent**: Processes abstract safety concepts (self, world, other)
  based on lower-level posteriors


  The agents communicate bidirectionally: lower-level posteriors become higher-level
  observations, and higher-level inferred states become lower-level priors.'
connections:
- connection_type: directed
  description: Lower to higher level mapping
  source_variables:
  - Affect
  target_variables:
  - AffectObs
  weight: null
- connection_type: directed
  description: Affect influences arousal
  source_variables:
  - Affect
  target_variables:
  - Arousal
  weight: null
- connection_type: directed
  description: Choice influences choice observation
  source_variables:
  - Choice
  target_variables:
  - ChoiceObs
  weight: null
- connection_type: directed
  description: Lower to higher level mapping
  source_variables:
  - Choice
  target_variables:
  - ChoiceObsHigher
  weight: null
- connection_type: directed
  description: Lower to higher level mapping
  source_variables:
  - CorrectCard
  target_variables:
  - CorrectCardObs
  weight: null
- connection_type: directed
  description: Card state influences feedback
  source_variables:
  - CorrectCard
  target_variables:
  - Feedback
  weight: null
- connection_type: directed
  description: Other safety influences affect observation
  source_variables:
  - SafetyOther
  target_variables:
  - AffectObs
  weight: null
- connection_type: directed
  description: Safety influences trust observation
  source_variables:
  - SafetySelf
  target_variables:
  - TrustworthinessObs
  weight: null
- connection_type: directed
  description: World safety influences card observation
  source_variables:
  - SafetyWorld
  target_variables:
  - CorrectCardObs
  weight: null
- connection_type: directed
  description: Stage influences advice availability
  source_variables:
  - Stage
  target_variables:
  - Advice
  weight: null
- connection_type: directed
  description: Lower to higher level mapping
  source_variables:
  - Stage
  target_variables:
  - StageObs
  weight: null
- connection_type: directed
  description: Trust influences advice
  source_variables:
  - Trustworthiness
  target_variables:
  - Advice
  weight: null
- connection_type: directed
  description: Lower to higher level mapping
  source_variables:
  - Trustworthiness
  target_variables:
  - TrustworthinessObs
  weight: null
created_at: '2025-07-25T22:44:10.752279'
equations:
- content: 'F = D_KL[Q(s)||P(s|o)] - ln P(o)                                   # Free
    Energy Q(s) = softmax(ln A + ln B + ln C + ln D)                          # Variational
    Message Passing π* = argmin_π F(π)                                                  #
    Policy Selection'
  description: null
  format: latex
  label: null
- content: 'F_high = D_KL[Q(s_high)||P(s_high|o_high)] - ln P(o_high)         # Free
    Energy Q(s_high) = softmax(ln A_high + ln B_high + ln C_high + ln D_high) # Hierarchical
    Inference o_high = f(Q_low(s_low))                                            #
    Inter-level Coupling'
  description: null
  format: latex
  label: null
model_name: PTSD Hierarchical Active Inference Agent
modified_at: '2025-07-25T22:44:10.752279'
ontology_mappings: []
parameters:
- description: null
  name: A2_higher_0
  type_hint: null
  value:
  - - 0.667
    - 0.333
  - - 0.333
    - 0.667
- description: null
  name: A2_higher_1
  type_hint: null
  value:
  - - 0.5
    - 0.5
  - - 0.5
    - 0.5
- description: null
  name: A2_higher_2
  type_hint: null
  value:
  - - 0.333
    - 0.667
  - - 0.667
    - 0.333
- description: null
  name: A2_higher_3
  type_hint: null
  value:
  - - 0.333
    - 0.333
    - 0.333
  - - 0.333
    - 0.333
    - 0.333
- description: null
  name: A2_higher_4
  type_hint: null
  value:
  - - 0.333
    - 0.333
    - 0.333
  - - 0.333
    - 0.333
    - 0.333
- description: null
  name: A_lower_0
  type_hint: null
  value:
  - - 0.9
    - 0.1
    - 0.0
  - - 0.1
    - 0.9
    - 0.0
  - - 0.0
    - 0.0
    - 1.0
- description: null
  name: A_lower_1
  type_hint: null
  value:
  - - 0.9
    - 0.1
    - 0.0
  - - 0.1
    - 0.9
    - 0.0
  - - 0.0
    - 0.0
    - 1.0
- description: null
  name: A_lower_2
  type_hint: null
  value:
  - - 1.0
    - 0.0
  - - 0.0
    - 1.0
- description: null
  name: A_lower_3
  type_hint: null
  value:
  - - 1.0
    - 0.0
    - 0.0
  - - 0.0
    - 1.0
    - 0.0
  - - 0.0
    - 0.0
    - 1.0
- description: null
  name: B2_higher_0
  type_hint: null
  value:
  - - 1.0
    - 0.0
  - - 0.0
    - 1.0
- description: null
  name: B2_higher_1
  type_hint: null
  value:
  - - 1.0
    - 0.0
  - - 0.0
    - 1.0
- description: null
  name: B2_higher_2
  type_hint: null
  value:
  - - 1.0
    - 0.0
  - - 0.0
    - 1.0
- description: null
  name: B_lower_0
  type_hint: null
  value:
  - - 0.9
    - 0.1
  - - 0.1
    - 0.9
- description: null
  name: B_lower_1
  type_hint: null
  value:
  - - 0.9
    - 0.1
  - - 0.1
    - 0.9
- description: null
  name: B_lower_2
  type_hint: null
  value:
  - - 0.3333
    - 0.6667
  - - 0.6667
    - 0.3333
- description: null
  name: B_lower_3
  type_hint: null
  value:
  - - 0.95
    - 0.025
    - 0.025
  - - 0.025
    - 0.95
    - 0.025
  - - 0.025
    - 0.025
    - 0.95
- description: null
  name: B_lower_4
  type_hint: null
  value:
  - - 0.0
    - 1.0
    - 0.0
  - - 0.0
    - 0.0
    - 1.0
  - - 1.0
    - 0.0
    - 0.0
- description: null
  name: C2_higher_0
  type_hint: null
  value:
  - 0.5
  - 0.5
- description: null
  name: C2_higher_1
  type_hint: null
  value:
  - 0.5
  - 0.5
- description: null
  name: C2_higher_2
  type_hint: null
  value:
  - 1.0
  - 0.0
- description: null
  name: C2_higher_3
  type_hint: null
  value:
  - 0.333
  - 0.333
  - 0.333
- description: null
  name: C2_higher_4
  type_hint: null
  value:
  - 0.333
  - 0.333
  - 0.333
- description: null
  name: C_lower_0
  type_hint: null
  value:
  - 0.3333
  - 0.3333
  - 0.3333
- description: null
  name: C_lower_1
  type_hint: null
  value:
  - 0.5
  - -3.5
  - 0.0
- description: null
  name: C_lower_2
  type_hint: null
  value:
  - 0.65
  - 0.35
- description: null
  name: C_lower_3
  type_hint: null
  value:
  - 0.3333
  - 0.3333
  - 0.3333
- description: null
  name: D2_higher_0
  type_hint: null
  value:
  - 0.25
  - 0.75
- description: null
  name: D2_higher_1
  type_hint: null
  value:
  - 0.25
  - 0.75
- description: null
  name: D2_higher_2
  type_hint: null
  value:
  - 0.25
  - 0.75
- description: null
  name: D_lower_0
  type_hint: null
  value:
  - 0.5
  - 0.5
- description: null
  name: D_lower_1
  type_hint: null
  value:
  - 0.5
  - 0.5
- description: null
  name: D_lower_2
  type_hint: null
  value:
  - 0.5
  - 0.5
- description: null
  name: D_lower_3
  type_hint: null
  value:
  - 0.0
  - 0.0
  - 1.0
- description: null
  name: D_lower_4
  type_hint: null
  value:
  - 1.0
  - 0.0
  - 0.0
- description: null
  name: E2_higher
  type_hint: null
  value:
  - 0.0
- description: null
  name: E_lower
  type_hint: null
  value:
  - 0.0
  - 0.0
  - 0.0
  - 0.0
  - 0.0
  - 0.0
- description: null
  name: affect_safety_association
  type_hint: null
  value: 0.667
- description: null
  name: alpha
  type_hint: null
  value: 0.9
- description: null
  name: alpha_policy
  type_hint: null
  value: 16.0
- description: null
  name: arousal_low_preference
  type_hint: null
  value: 0.35
- description: null
  name: cc
  type_hint: null
  value: 0.5
- description: null
  name: gamma
  type_hint: null
  value: 16.0
- description: null
  name: pA2_higher
  type_hint: null
  value: 1.0
- description: null
  name: pA_lower
  type_hint: null
  value: 1.0
- description: null
  name: pB2_higher
  type_hint: null
  value: 1.0
- description: null
  name: pB_lower
  type_hint: null
  value: 1.0
- description: null
  name: pD2_higher
  type_hint: null
  value: 1.0
- description: null
  name: pD_lower
  type_hint: null
  value: 1.0
- description: null
  name: p_Bchoice
  type_hint: null
  value: 0.95
- description: null
  name: p_Bcorrectcard
  type_hint: null
  value: 0.9
- description: null
  name: p_Bstage
  type_hint: null
  value: 1.0
- description: null
  name: p_Btrust
  type_hint: null
  value: 0.9
- description: null
  name: p_advice
  type_hint: null
  value: 0.9
- description: null
  name: prior_on_danger
  type_hint: null
  value: 0.75
- description: null
  name: trust_safety_association
  type_hint: null
  value: 0.667
time_specification:
  discretization: null
  horizon: null
  step_size: null
  time_type: Static
variables:
- data_type: float
  description: 'Observation: blue, green, null'
  dimensions:
  - 3
  name: Advice
  type: action
- data_type: float
  description: 'Hidden state: angry, calm'
  dimensions:
  - 2
  name: Affect
  type: action
- data_type: float
  description: Observation from lower level
  dimensions:
  - 2
  name: AffectObs
  type: action
- data_type: float
  description: 'Observation: high, low'
  dimensions:
  - 2
  name: Arousal
  type: action
- data_type: float
  description: 'Actions: blue, green, null'
  dimensions:
  - 3
  name: CardActions
  type: action
- data_type: float
  description: 'Hidden state: blue, green, null'
  dimensions:
  - 3
  name: Choice
  type: hidden_state
- data_type: float
  description: 'Observation: blue, green, null'
  dimensions:
  - 3
  name: ChoiceObs
  type: observation
- data_type: float
  description: Observation from lower level
  dimensions:
  - 3
  name: ChoiceObsHigher
  type: observation
- data_type: float
  description: 'Hidden state: blue, green'
  dimensions:
  - 2
  name: CorrectCard
  type: hidden_state
- data_type: float
  description: Observation from lower level
  dimensions:
  - 2
  name: CorrectCardObs
  type: observation
- data_type: float
  description: 'Observation: correct, incorrect, null'
  dimensions:
  - 3
  name: Feedback
  type: hidden_state
- data_type: float
  description: 'Actions: NULL'
  dimensions:
  - 1
  name: NullActions
  type: action
- data_type: float
  description: 'Actions: NULL'
  dimensions:
  - 1
  name: NullActionsHigher
  type: action
- data_type: float
  description: 'Hidden state: safe, danger'
  dimensions:
  - 2
  name: SafetyOther
  type: hidden_state
- data_type: float
  description: 'Hidden state: safe, danger'
  dimensions:
  - 2
  name: SafetySelf
  type: hidden_state
- data_type: float
  description: 'Hidden state: safe, danger'
  dimensions:
  - 2
  name: SafetyWorld
  type: hidden_state
- data_type: float
  description: 'Hidden state: null, advice, decision'
  dimensions:
  - 3
  name: Stage
  type: hidden_state
- data_type: float
  description: Observation from lower level
  dimensions:
  - 3
  name: StageObs
  type: hidden_state
- data_type: float
  description: 'Actions: trust, distrust'
  dimensions:
  - 2
  name: TrustActions
  type: action
- data_type: float
  description: 'Hidden state: trust, distrust'
  dimensions:
  - 2
  name: Trustworthiness
  type: hidden_state
- data_type: float
  description: Observation from lower level
  dimensions:
  - 2
  name: TrustworthinessObs
  type: observation
version: '1.0'
