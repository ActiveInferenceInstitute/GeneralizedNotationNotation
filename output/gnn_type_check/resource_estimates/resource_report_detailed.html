<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GNN Resource Estimation Report</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; color: #333; max-width: 1200px; margin: 0 auto; }
        h1 { color: #2c3e50; margin-top: 20px; }
        h2 { color: #3498db; margin-top: 30px; }
        h3 { color: #2980b9; }
        .summary { background-color: #f8f9fa; padding: 15px; border-radius: 5px; margin-bottom: 20px; }
        .chart-container { width: 100%; height: 400px; margin-bottom: 30px; }
        .metric-container { display: flex; flex-wrap: wrap; gap: 20px; margin-bottom: 30px; }
        .metric-box { flex: 1; min-width: 200px; background-color: #f8f9fa; padding: 15px; border-radius: 5px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .metric-value { font-size: 24px; font-weight: bold; color: #2980b9; }
        .model-card { background-color: #fff; border-radius: 5px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); margin-bottom: 20px; padding: 15px; }
        .caption { font-style: italic; color: #555; margin-top: 5px; text-align: center; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
        th { background-color: #f2f2f2; }
        tr:hover { background-color: #f5f5f5; }
        .resource-comparison { display: flex; gap: 20px; margin-bottom: 30px; }
        .resource-comparison > div { flex: 1; }
        .footer { margin-top: 30px; font-size: 0.8em; color: #777; text-align: center; }
    </style>
</head>
<body>
    <h1>GNN Resource Estimation Report</h1>
    <p>Generated on 2025-05-15 12:57:32</p>
    
    <div class="summary">
        <h2>Summary</h2>
        <p>This report provides detailed resource estimates for 2 GNN models, analyzing their memory usage, computational requirements, and storage needs.</p>
        
        <div class="metric-container">
            <div class="metric-box">
                <h3>Average Memory Usage</h3>
                <div class="metric-value">0.53 KB</div>
                <p>RAM required to hold model in memory</p>
            </div>
            <div class="metric-box">
                <h3>Average Inference Time</h3>
                <div class="metric-value">156.08 units</div>
                <p>Relative computational cost</p>
            </div>
            <div class="metric-box">
                <h3>Average Storage</h3>
                <div class="metric-value">3.91 KB</div>
                <p>Disk space required to store model</p>
            </div>
        </div>
    </div>
    
    <h2>Resource Visualizations</h2>
    <p>The following visualizations provide a comparative analysis of resource requirements across different models.</p>
    
    <h3>Memory Usage Comparison</h3>
    <div class="chart-container">
        <canvas id="memoryChart"></canvas>
    </div>
    <p class="caption">
        <strong>Figure 1:</strong> Memory usage comparison showing RAM requirements (in KB) for each GNN model. 
        Memory usage is determined by the size and number of matrices and variables in the model. 
        Hierarchical models typically require more memory due to their multi-level structure.
    </p>
    
    <h3>Inference Time Comparison</h3>
    <div class="chart-container">
        <canvas id="inferenceChart"></canvas>
    </div>
    <p class="caption">
        <strong>Figure 2:</strong> Inference time comparison showing relative computational cost for each model.
        Higher values indicate more complex computations requiring more CPU/GPU time.
        Dynamic models with temporal dependencies typically have higher inference costs than static models.
    </p>
    
    <h3>Storage Requirements Comparison</h3>
    <div class="chart-container">
        <canvas id="storageChart"></canvas>
    </div>
    <p class="caption">
        <strong>Figure 3:</strong> Storage requirements showing disk space (in KB) needed to store each model.
        Storage includes the base memory requirements plus additional overhead for model structure, 
        metadata, and equation representations.
    </p>
    
    <h3>Normalized Resource Comparison</h3>
    <div class="chart-container">
        <canvas id="comparisonChart"></canvas>
    </div>
    <p class="caption">
        <strong>Figure 4:</strong> Normalized resource comparison showing relative requirements across all resource types.
        Values are normalized to the highest value in each category to allow for direct comparison.
        This visualization helps identify which resource dimension is most constraining for each model.
    </p>

    <h2>Computational Complexity Analysis</h2>
    <p>This section breaks down the computational complexity of each model in terms of operations required and algorithmic efficiency.</p>
    
    <div class="chart-container">
        <canvas id="flopsChart"></canvas>
    </div>
    <p class="caption">
        <strong>Figure 5:</strong> Estimated floating-point operations (FLOPS) required for a single inference pass.
        FLOPS count is calculated based on matrix operations, element-wise operations, and nonlinear function evaluations
        in the model. Higher FLOPS indicate more computationally intensive models.
    </p>
    
    <h3>Matrix Operation Costs</h3>
    <p>Matrix operations typically dominate the computational cost of GNN models. The following table shows estimated costs for key operations.</p>
    
    <table>
        <thead>
            <tr>
                <th>Model</th>
                <th>Matrix Multiplications</th>
                <th>Element-wise Ops</th>
                <th>Nonlinear Ops</th>
                <th>Total FLOPS</th>
            </tr>
        </thead>
        <tbody>

            <tr>
                <td>gnn_POMDP_example</td>
                <td>0</td>
                <td>6</td>
                <td>0</td>
                <td>15</td>
            </tr>
            <tr>
                <td>gnn_example_pymdp_agent</td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td>1050</td>
            </tr>
        </tbody>
    </table>
    <p class="caption">
        <strong>Table 1:</strong> Breakdown of computational operations by type for each model. 
        Matrix multiplications, element-wise operations, and nonlinear function evaluations contribute to the total FLOPS.
    </p>

    <h2>Individual Model Analysis</h2>
    <p>This section provides detailed resource profiles for each individual model.</p>
    
    <div class="model-container">

        <div class="model-card">
            <h3>gnn_POMDP_example</h3>
            <p><strong>Type:</strong> Dynamic model</p>
            
            <div class="resource-comparison">
                <div>
                    <h4>Memory Usage</h4>
                    <div class="metric-value">0.57 KB</div>
                    <p>Variables: 18</p>
                </div>
                <div>
                    <h4>Inference Time</h4>
                    <div class="metric-value">158.10 units</div>
                    <p>Edges: 0</p>
                </div>
                <div>
                    <h4>Storage</h4>
                    <div class="metric-value">3.99 KB</div>
                    <p>Equations: 8</p>
                </div>
            </div>
            
            <h4>Complexity Metrics</h4>
            <table>
                <tr>
                    <td>State Space Complexity</td>
                    <td>7.19</td>
                    <td>Graph Density</td>
                    <td>0.00</td>
                </tr>
                <tr>
                    <td>Temporal Complexity</td>
                    <td>0.00</td>
                    <td>Equation Complexity</td>
                    <td>9.44</td>
                </tr>
                <tr>
                    <td>Overall Complexity</td>
                    <td colspan="3">9.26 / 10.0</td>
                </tr>
            </table>
        </div>

        <div class="model-card">
            <h3>gnn_example_pymdp_agent</h3>
            <p><strong>Type:</strong> Dynamic model</p>
            
            <div class="resource-comparison">
                <div>
                    <h4>Memory Usage</h4>
                    <div class="metric-value">0.48 KB</div>
                    <p>Variables: 21</p>
                </div>
                <div>
                    <h4>Inference Time</h4>
                    <div class="metric-value">154.07 units</div>
                    <p>Edges: 2</p>
                </div>
                <div>
                    <h4>Storage</h4>
                    <div class="metric-value">3.83 KB</div>
                    <p>Equations: 5</p>
                </div>
            </div>
            
            <h4>Complexity Metrics</h4>
            <table>
                <tr>
                    <td>State Space Complexity</td>
                    <td>6.97</td>
                    <td>Graph Density</td>
                    <td>0.00</td>
                </tr>
                <tr>
                    <td>Temporal Complexity</td>
                    <td>0.00</td>
                    <td>Equation Complexity</td>
                    <td>8.76</td>
                </tr>
                <tr>
                    <td>Overall Complexity</td>
                    <td colspan="3">8.74 / 10.0</td>
                </tr>
            </table>
        </div>

    </div>
    
    <h2>Understanding Resource Metrics</h2>
    <p>This section explains how each resource metric is calculated and what it means for model performance.</p>
    
    <h3>Memory Usage</h3>
    <p>Memory usage estimates the amount of RAM required to hold the model in memory during inference. It accounts for:</p>
    <ul>
        <li><strong>Variable Storage:</strong> Size of all matrices and vectors in the model</li>
        <li><strong>Type Considerations:</strong> Different data types (float, int, bool) require different amounts of memory</li>
        <li><strong>Dimension Analysis:</strong> Higher-dimensional state spaces consume more memory</li>
    </ul>
    <p>The memory estimate is calculated based on the dimensions of each variable and its data type, using standard sizes (4 bytes for float/int, 1 byte for bool, etc.).</p>
    
    <h3>Inference Time</h3>
    <p>Inference time estimates the relative computational cost of running the model for a single inference pass. It considers:</p>
    <ul>
        <li><strong>Model Type:</strong> Static vs. Dynamic vs. Hierarchical architecture</li>
        <li><strong>Matrix Operations:</strong> Primarily matrix multiplications which dominate computational cost</li>
        <li><strong>Nonlinear Functions:</strong> Operations like softmax, sigmoid, or tanh which are computationally expensive</li>
        <li><strong>Connectivity:</strong> Edge structure and temporal relationships that affect computation flow</li>
    </ul>
    <p>The inference time is provided in relative units, with higher values indicating more complex computations requiring more processing time.</p>
    
    <h3>Storage Requirements</h3>
    <p>Storage requirements estimate the disk space needed to persist the model. This includes:</p>
    <ul>
        <li><strong>Base Memory Footprint:</strong> Same as memory usage</li>
        <li><strong>Format Overhead:</strong> Additional space for storing the model structure</li>
        <li><strong>Metadata:</strong> Variable names, comments, equations, etc.</li>
    </ul>
    <p>Storage is typically larger than memory usage due to the additional structural information needed to fully represent the model on disk.</p>
    
    <h3>Computational Complexity</h3>
    <p>Computational complexity provides a deeper analysis of the algorithmic efficiency of the model:</p>
    <ul>
        <li><strong>FLOPS (Floating Point Operations):</strong> Count of arithmetic operations needed for inference</li>
        <li><strong>Matrix Operation Costs:</strong> Detailed breakdown of matrix multiplication, transpose, and inversion costs</li>
        <li><strong>State Space Complexity:</strong> Measure of the model's information capacity</li>
        <li><strong>Structural Complexity:</strong> Analysis of the edge structure and connectivity patterns</li>
    </ul>
    <p>These metrics help identify bottlenecks and optimize model architecture for better performance.</p>

    <script>
        // Memory usage chart
        const memoryCtx = document.getElementById('memoryChart').getContext('2d');
        new Chart(memoryCtx, {
            type: 'bar',
            data: {
                labels: ["gnn_POMDP_example", "gnn_example_pymdp_agent"],
                datasets: [{
                    label: 'Memory Usage (KB)',
                    data: [0.56640625, 0.484375],
                    backgroundColor: 'rgba(75, 192, 192, 0.2)',
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Memory Usage (KB)'
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Model'
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });
        
        // Inference time chart
        const inferenceCtx = document.getElementById('inferenceChart').getContext('2d');
        new Chart(inferenceCtx, {
            type: 'bar',
            data: {
                labels: ["gnn_POMDP_example", "gnn_example_pymdp_agent"],
                datasets: [{
                    label: 'Inference Time (units)',
                    data: [158.0995247133244, 154.06988264859797],
                    backgroundColor: 'rgba(153, 102, 255, 0.2)',
                    borderColor: 'rgba(153, 102, 255, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Inference Time (arbitrary units)'
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Model'
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });
        
        // Storage chart
        const storageCtx = document.getElementById('storageChart').getContext('2d');
        new Chart(storageCtx, {
            type: 'bar',
            data: {
                labels: ["gnn_POMDP_example", "gnn_example_pymdp_agent"],
                datasets: [{
                    label: 'Storage (KB)',
                    data: [3.98634375, 3.82846875],
                    backgroundColor: 'rgba(255, 159, 64, 0.2)',
                    borderColor: 'rgba(255, 159, 64, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Storage Requirements (KB)'
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Model'
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });
        
        // Normalized comparison chart
        const comparisonCtx = document.getElementById('comparisonChart').getContext('2d');
        
        // Normalize data
        const maxMemory = Math.max(...[0.56640625, 0.484375]);
        const maxInference = Math.max(...[158.0995247133244, 154.06988264859797]);
        const maxStorage = Math.max(...[3.98634375, 3.82846875]);
        
        const normMemory = [0.56640625, 0.484375].map(v => v / maxMemory);
        const normInference = [158.0995247133244, 154.06988264859797].map(v => v / maxInference);
        const normStorage = [3.98634375, 3.82846875].map(v => v / maxStorage);
        
        new Chart(comparisonCtx, {
            type: 'bar',
            data: {
                labels: ["gnn_POMDP_example", "gnn_example_pymdp_agent"],
                datasets: [
                    {
                        label: 'Memory',
                        data: normMemory,
                        backgroundColor: 'rgba(75, 192, 192, 0.2)',
                        borderColor: 'rgba(75, 192, 192, 1)',
                        borderWidth: 1
                    },
                    {
                        label: 'Inference',
                        data: normInference,
                        backgroundColor: 'rgba(153, 102, 255, 0.2)',
                        borderColor: 'rgba(153, 102, 255, 1)',
                        borderWidth: 1
                    },
                    {
                        label: 'Storage',
                        data: normStorage,
                        backgroundColor: 'rgba(255, 159, 64, 0.2)',
                        borderColor: 'rgba(255, 159, 64, 1)',
                        borderWidth: 1
                    }
                ]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Normalized Resource Usage'
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Model'
                        }
                    }
                }
            }
        });
        
        // FLOPS chart
        const flopsCtx = document.getElementById('flopsChart').getContext('2d');
        new Chart(flopsCtx, {
            type: 'bar',
            data: {
                labels: ["gnn_POMDP_example", "gnn_example_pymdp_agent"],
                datasets: [{
                    label: 'FLOPS',
                    data: [15.0, 1050.0],
                    backgroundColor: 'rgba(54, 162, 235, 0.2)',
                    borderColor: 'rgba(54, 162, 235, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Floating Point Operations'
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Model'
                        }
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });
    </script>
    
    <div class="footer">
        <p>Generated by GNN Resource Estimator | GNN Type Checker</p>
    </div>
</body>
</html>
